{"version":3,"sources":["webpack:///./src/api/services/ReportService.ts","webpack:///./src/views/admin/Reports.vue?c114","webpack:///./src/views/admin/Reports.vue","webpack:///./src/views/admin/Reports.vue?e7ea","webpack:///./src/views/admin/Reports.vue?7bd5"],"names":["ReportService","secretId","body","image","reportId","setBaseUrl","BACKEND","URL","addInterceptor","build","render","_vm","this","_h","$createElement","_c","_self","staticClass","reportedLocations","isLoading","attrs","isSuccess","_v","headers","data","tableSearch","scopedSlots","_u","key","fn","model","value","callback","$$v","expression","proxy","ref","item","location","_e","staticRenderFns","RequestHandler","handle","getReportedLocations","id","style","displayFullpage","text","sortable","align","dateString","date","Date","toLocaleString","component","VBtn","VCard","VCardTitle","VContainer","VDataTable","VIcon","VSkeletonLoader","VTextField"],"mappings":"sNAoBMA,E,iLAQoBC,EACVC,GAER,MAAO,K,kCAUqBC,GAC5B,MAAO,K,6BAKWC,EACVF,GAER,MAAO,K,6CAKP,MAAO,O,GAnCa,kBAOxB,gBADC,kBAAK,iCAED,mCAAK,aACL,uC,qBAGJ,MASD,gBAFC,6BACA,kBAAK,kBACO,wCAAU,W,0BAEtB,MAGD,gBADC,mBAAM,uBAEF,mCAAK,aACL,uC,qBAGJ,MAGD,gBADC,iBAAI,uB,mCAGJ,MAGU,YAAI,yBACdG,WAAW,OAAOC,QAAQC,KAC1BC,eAAe,IAAI,QACnBC,MAAMT,I,yCC9DX,IAAIU,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,oBAAoB,CAAEN,EAAIO,kBAAkBC,YAAa,CAACJ,EAAG,oBAAoB,CAACK,MAAM,CAAC,KAAO,QAAQ,MAAQ,OAAQT,EAAIO,kBAAkBG,YAAa,CAACN,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,eAAe,CAACJ,EAAIW,GAAG,0BAA0BP,EAAG,eAAe,CAACK,MAAM,CAAC,QAAUT,EAAIY,QAAQ,MAAQZ,EAAIO,kBAAkBM,KAAK,UAAU,eAAe,YAAY,GAAG,OAASb,EAAIc,aAAaC,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,MAAMC,GAAG,WAAW,MAAO,CAACd,EAAG,eAAe,CAACK,MAAM,CAAC,eAAe,sBAAsB,MAAQ,iCAAiC,cAAc,GAAG,SAAW,GAAG,MAAQ,IAAIU,MAAM,CAACC,MAAOpB,EAAe,YAAEqB,SAAS,SAAUC,GAAMtB,EAAIc,YAAYQ,GAAKC,WAAW,mBAAmBC,OAAM,GAAM,CAACP,IAAI,cAAcC,GAAG,SAASO,GACl2B,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACtB,EAAG,QAAQ,CAACK,MAAM,CAAC,GAAM,kBAAqBiB,EAAKC,SAAiB,SAAG,MAAQ,UAAU,KAAO,KAAK,CAAC3B,EAAIW,GAAG,kBAAkBP,EAAG,SAAS,CAACK,MAAM,CAAC,MAAQ,KAAK,CAACT,EAAIW,GAAG,sBAAsB,WAAW,IAAIX,EAAI4B,MAAM,IAC3NC,EAAkB,G,gGCmDD,EAArB,yG,0BACI,EAAAf,YAAc,GAEd,EAAAP,kBAAoBuB,EAAA,KAAeC,OAC/B1C,EAAA,KAAc2C,uBACd,CACIC,GAAI,UACJC,MAAO,UACPC,iBAAiB,IAIzB,EAAAvB,QAAU,CACN,CACIwB,KAAM,WACNhB,MAAO,iBAEX,CACIgB,KAAM,eACNhB,MAAO,gBAEX,CACIgB,KAAM,GACNhB,MAAO,SACPiB,UAAU,EACVC,MAAO,QAzBnB,iEAgCoBC,GACZ,IAAMC,EAAO,IAAIC,KAAKF,GAEtB,OAAOC,EAAKE,qBAnCpB,GAAkC,QAAb,EAAI,gBADxB,QACoB,WCtD+X,I,iICOhZC,EAAY,eACd,EACA5C,EACA8B,GACA,EACA,KACA,KACA,MAIa,aAAAc,EAAiB,QAYhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,WAAA,OAAWC,aAAA,KAAWC,aAAA,KAAWC,QAAA,KAAMC,kBAAA,KAAgBC,aAAA","file":"js/chunk-56def478.cc9f52fe.js","sourcesContent":["import {\n    Body,\n    EchoPromise,\n    EchoService,\n    EchoServiceBuilder,\n    FormField,\n    FormMultipart,\n    GET,\n    PATCH,\n    Path,\n    POST,\n} from \"echofetch\";\nimport config from \"@/config\";\nimport { AuthInterceptor } from \"@/api/interceptors/AuthInterceptor\";\nimport ReportLocation from \"@/api/models/ReportLocation\";\nimport {\n    ReportCreateWrapper,\n    ReportUpdateWrapper,\n} from \"@/api/wrappers/ReportWrapper\";\n\nclass ReportService extends EchoService {\n    /**\n     * Create a new report for a specific location.\n     * @param secretId Secret id of the location.\n     * @param body\n     */\n    @POST(\"/locations/{secretId}/reports\")\n    create(\n        @Path(\"secretId\") secretId: string,\n        @Body() body: ReportCreateWrapper\n    ): EchoPromise<void> {\n        return {} as EchoPromise<void>;\n    }\n\n    /**\n     * Upload an image for a report.\n     * @param secretId Secret id of the location.\n     * @param body\n     */\n    @FormMultipart()\n    @POST(\"/reports/image\")\n    uploadImage(@FormField(\"image\") image: File): EchoPromise<number> {\n        return {} as EchoPromise<number>;\n    }\n\n    @PATCH(\"/reports/{reportId}\")\n    update(\n        @Path(\"reportId\") reportId: number,\n        @Body() body: ReportUpdateWrapper\n    ): EchoPromise<void> {\n        return {} as EchoPromise<void>;\n    }\n\n    @GET(\"/reports/locations\")\n    getReportedLocations(): EchoPromise<Array<ReportLocation>> {\n        return {} as EchoPromise<Array<ReportLocation>>;\n    }\n}\n\nexport default new EchoServiceBuilder()\n    .setBaseUrl(config.BACKEND.URL)\n    .addInterceptor(new AuthInterceptor())\n    .build(ReportService);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"container--small\"},[(_vm.reportedLocations.isLoading())?[_c('v-skeleton-loader',{attrs:{\"type\":\"table\",\"dense\":\"\"}})]:(_vm.reportedLocations.isSuccess())?[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-title',[_vm._v(\" Reported Locations \")]),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.reportedLocations.data,\"sort-by\":\"reportsCount\",\"sort-desc\":\"\",\"search\":_vm.tableSearch},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-database-search\",\"label\":\"Search for a reported location\",\"single-line\":\"\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.tableSearch),callback:function ($$v) {_vm.tableSearch=$$v},expression:\"tableSearch\"}})]},proxy:true},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"to\":(\"/admin/reports/\" + (item.location.secretId)),\"color\":\"primary\",\"text\":\"\"}},[_vm._v(\" Show reports \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right\")])],1)]}}])})],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { RequestHandler } from \"@/api/RequestHandler\";\nimport ReportService from \"../../api/services/ReportService\";\n\n@Component\nexport default class Home extends Vue {\n    tableSearch = \"\";\n\n    reportedLocations = RequestHandler.handle(\n        ReportService.getReportedLocations(),\n        {\n            id: \"reports\",\n            style: \"SECTION\",\n            displayFullpage: true,\n        }\n    );\n\n    headers = [\n        {\n            text: \"Location\",\n            value: \"location.name\",\n        },\n        {\n            text: \"# of Reports\",\n            value: \"reportsCount\",\n        },\n        {\n            text: \"\",\n            value: \"action\",\n            sortable: false,\n            align: \"end\",\n        },\n    ];\n\n    /**\n     * Get the createdAt as a string.\n     */\n    createdAtFormat(dateString: string): string {\n        const date = new Date(dateString);\n\n        return date.toLocaleString();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reports.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reports.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Reports.vue?vue&type=template&id=94603dc8&\"\nimport script from \"./Reports.vue?vue&type=script&lang=ts&\"\nexport * from \"./Reports.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VContainer,VDataTable,VIcon,VSkeletonLoader,VTextField})\n"],"sourceRoot":""}