{"version":3,"sources":["webpack:///./src/views/Logout.vue?1005","webpack:///./src/api/services/AuthService.ts","webpack:///./src/views/Logout.vue?eab7","webpack:///./src/views/Logout.vue","webpack:///./src/views/Logout.vue?743b","webpack:///./src/views/Logout.vue?86c2"],"names":["AuthService","body","goHome","dispatch","message","color","timeout","this","logout","then","_","push","catch","error","handle","style","id","displayFullpage","setBaseUrl","BACKEND","URL","addInterceptor","build","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","staticRenderFns","handleLogout","component","VCard","VCardText","VCardTitle","VCol","VContainer","VProgressCircular","VRow"],"mappings":"kHAAA,W,4KCmBMA,E,uKAMF,SAAcC,GACV,MAAO,K,sBAQX,SAAiBA,GACb,MAAO,K,4BAIX,SAAuBA,GACnB,MAAO,K,oBAOX,WACI,MAAO,K,0BAOX,WAA2B,IAAdC,EAAc,wDAEvB,OAAMC,SAAS,gBAAiB,CAC5BC,QAAS,iBACTC,MAAO,OACPC,QAAS,OAGbC,KAAKC,SACAC,MAAK,SAACC,GAEH,OAAMP,SAAS,gBAAiB,CAC5BC,QAAS,0BACTC,MAAO,YAGPH,GACA,OAAOS,KAAK,KAIhB,OAAMR,SAAS,oBAElBS,OAAM,SAACC,GACJ,OAAaC,OAAOD,EAAO,CACvBE,MAAO,UACPC,GAAI,SACJC,iBAAiB,W,GA/DX,kBAMtB,gBADC,kBAAK,eACC,uC,oBAEN,MAOD,gBADC,kBAAK,kBACI,uC,uBAET,MAGD,gBADC,mBAAM,uBACS,uC,6BAEf,MAMD,gBADC,kBAAK,iB,qBAGL,MAuCU,YAAI,yBACdC,WAAW,OAAOC,QAAQC,KAC1BC,eAAe,IAAI,QACnBC,MAAMtB,I,yCC3FX,IAAIuB,EAAS,WAAa,IAAIC,EAAIjB,KAASkB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,SAAS,CAACE,YAAY,eAAe,CAACF,EAAG,eAAe,CAACE,YAAY,kBAAkB,CAACL,EAAIO,GAAG,sBAAsBJ,EAAG,cAAc,CAACA,EAAG,IAAI,CAACH,EAAIO,GAAG,gDAAgDJ,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,sBAAsB,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,GAAG,MAAQ,UAAU,cAAgB,OAAO,MAAM,IAAI,IAAI,IAAI,IACrnBE,EAAkB,G,oFCiCD,EAArB,yKACI,WAEIhC,EAAA,KAAYiC,cAAa,OAHjC,GAAoC,QAAf,EAAM,gBAD1B,QACoB,WClC4W,I,qHCQ7XC,EAAY,eACd,EACAX,EACAS,GACA,EACA,KACA,KACA,MAIa,aAAAE,EAAiB,QAWhC,IAAkBA,EAAW,CAACC,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,aAAA,KAAWC,oBAAA,KAAkBC,OAAA,Q","file":"js/chunk-79ff3a6c.39c6cc01.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=style&index=0&lang=scss&\"","import {\n    Body,\n    EchoPromise,\n    EchoService,\n    EchoServiceBuilder,\n    PATCH,\n    POST,\n} from \"echofetch\";\nimport {\n    AuthLoginWrapper,\n    AuthPasswordUpdateWrapper,\n    AuthRegisterWrapper,\n} from \"@/api/wrappers/AuthWrapper\";\nimport { ErrorHandler } from \"@/api/error/ErrorHandler\";\nimport { AuthInterceptor } from \"@/api/interceptors/AuthInterceptor\";\nimport config from \"@/config\";\nimport store from \"@/store/store\";\nimport router from \"@/plugins/router\";\n\nclass AuthService extends EchoService {\n    /**\n     * Login into an account.\n     * @param body User parameters to login.\n     */\n    @POST(\"/auth/login\")\n    login(@Body() body: AuthRegisterWrapper): EchoPromise<string> {\n        return {} as EchoPromise<string>;\n    }\n\n    /**\n     * Create a new user.\n     * @param body User parameters for the new user.\n     */\n    @POST(\"/auth/register\")\n    register(@Body() body: AuthLoginWrapper): EchoPromise<string> {\n        return {} as EchoPromise<string>;\n    }\n\n    @PATCH(\"/user/passwordreset\")\n    changePassword(@Body() body: AuthPasswordUpdateWrapper): EchoPromise<void> {\n        return {} as EchoPromise<void>;\n    }\n\n    /**\n     * Logout the current user.\n     */\n    @POST(\"/auth/logout\")\n    logout(): EchoPromise<string> {\n        return {} as EchoPromise<string>;\n    }\n\n    /**\n     * Call the logout function and show the progress\n     * @param goHome If the user should be send to the homepage after logging out.\n     */\n    handleLogout(goHome = false) {\n        // Send loading message.\n        store.dispatch(\"snackbar/open\", {\n            message: \"Logging out...\",\n            color: \"info\",\n            timeout: 120 * 1000,\n        });\n\n        this.logout()\n            .then((_) => {\n                // Send confirmation message.\n                store.dispatch(\"snackbar/open\", {\n                    message: \"Successfully logged out\",\n                    color: \"success\",\n                });\n\n                if (goHome) {\n                    router.push(\"/\");\n                }\n\n                // Update the current user inside the store.\n                store.dispatch(\"session/fetch\");\n            })\n            .catch((error) => {\n                ErrorHandler.handle(error, {\n                    style: \"SECTION\",\n                    id: \"logout\",\n                    displayFullpage: true,\n                });\n            });\n    }\n}\n\nexport default new EchoServiceBuilder()\n    .setBaseUrl(config.BACKEND.URL)\n    .addInterceptor(new AuthInterceptor())\n    .build(AuthService);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"container--small\"},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',{staticClass:\"text-center\"},[_c('v-card-title',{staticClass:\"justify-center\"},[_vm._v(\" Logging out... \")]),_c('v-card-text',[_c('p',[_vm._v(\" You are being logged out, please wait... \")]),_c('div',{staticClass:\"logout__progress\"},[_c('v-progress-circular',{staticClass:\"logout__progress__loader\",attrs:{\"size\":75,\"color\":\"primary\",\"indeterminate\":\"\"}})],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport AuthService from \"@/api/services/AuthService\";\n\n@Component\nexport default class Logout extends Vue {\n    created() {\n        // Attempt to logout the current user.\n        AuthService.handleLogout(true);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Logout.vue?vue&type=template&id=b1c79adc&\"\nimport script from \"./Logout.vue?vue&type=script&lang=ts&\"\nexport * from \"./Logout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Logout.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VCol,VContainer,VProgressCircular,VRow})\n"],"sourceRoot":""}