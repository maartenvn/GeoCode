(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60f3eee6"],{"1a32":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("c975"),a("a434");var n=a("d4ec"),c=a("bee2"),r=a("2b0e"),o=function(){function e(){Object(n["a"])(this,e)}return Object(c["a"])(e,null,[{key:"delete",value:function(e,t){e.splice(e.indexOf(t),1)}},{key:"update",value:function(e,t,a){var n=e.indexOf(t);e[n]=a,r["default"].set(e,n,a)}}]),e}()},"4b8c":function(e,t,a){"use strict";var n=a("d4ec"),c=a("bee2"),r=a("262e"),o=a("2caf"),i=a("9ab4"),s=a("c1c4"),l=a("d70b"),d=a("3dcf"),u=function(e){Object(r["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),t.apply(this,arguments)}return Object(c["a"])(a,[{key:"getAll",value:function(){return{}}},{key:"get",value:function(e){return{}}},{key:"delete",value:function(e){return{}}},{key:"update",value:function(e,t){return{}}}]),a}(s["EchoService"]);Object(i["a"])([Object(s["GET"])("/users")],u.prototype,"getAll",null),Object(i["a"])([Object(s["GET"])("/users/{id}"),Object(i["b"])(0,Object(s["Path"])("id"))],u.prototype,"get",null),Object(i["a"])([Object(s["DELETE"])("/users/{id}"),Object(i["b"])(0,Object(s["Path"])("id"))],u.prototype,"delete",null),Object(i["a"])([Object(s["PATCH"])("/users/{id}"),Object(i["b"])(0,Object(s["Path"])("id")),Object(i["b"])(1,Object(s["Body"])())],u.prototype,"update",null),t["a"]=(new s["EchoServiceBuilder"]).setBaseUrl(l["a"].BACKEND.URL).addInterceptor(new d["a"]).build(u)},9207:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Are you sure? "),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{domProps:{innerHTML:e._s(e.payload.message)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:e.loading,loading:e.loading},on:{click:e.confirm}},[e._v(" Confirm ")])],1)],1)},c=[],r=a("d4ec"),o=a("bee2"),i=a("262e"),s=a("2caf"),l=a("9ab4"),d=a("60a3"),u=function(e){Object(i["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.loading=!1,e}return Object(o["a"])(a,[{key:"close",value:function(){this.$store.dispatch("modal/close")}},{key:"confirm",value:function(){this.payload.action(this)}}]),a}(d["e"]);Object(l["a"])([Object(d["c"])()],u.prototype,"payload",void 0),u=Object(l["a"])([d["a"]],u);var b=u,v=b,f=a("2877"),p=a("6544"),h=a.n(p),m=a("8336"),y=a("b0af"),g=a("99d9"),O=a("132d"),j=a("2fa4"),k=Object(f["a"])(v,n,c,!1,null,null,null);t["a"]=k.exports;h()(k,{VBtn:m["a"],VCard:y["a"],VCardActions:g["a"],VCardText:g["c"],VCardTitle:g["d"],VIcon:O["a"],VSpacer:j["a"]})},a336:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("99af");var n=a("d4ec"),c=a("bee2"),r=a("d70b"),o=function(){function e(){Object(n["a"])(this,e)}return Object(c["a"])(e,null,[{key:"getById",value:function(e){return e?"".concat(r["a"].BACKEND.URL,"images/").concat(e):""}}]),e}()},c785:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"container--small"},[e.users.isLoading()?[a("v-skeleton-loader",{attrs:{type:"table",dense:""}})]:e.users.isSuccess()?[a("v-card",{attrs:{flat:""}},[a("v-card-title",[e._v(" Users ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.users.data,search:e.tableSearch},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-text-field",{attrs:{"prepend-icon":"mdi-database-search",label:"Search for a user","single-line":"",outlined:"",dense:""},model:{value:e.tableSearch,callback:function(t){e.tableSearch=t},expression:"tableSearch"}})]},proxy:!0},{key:"item.avatar",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{depressed:"",disabled:""===e.getImageURL(n)},on:{click:function(t){return e.openImage(n)}}},[e._v(" Show avatar ")])]}},{key:"item.action",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:"",disabled:""===e.getImageURL(n)||e.loading,loading:e.loading},on:{click:function(t){return e.removeImage(n)}}},[a("v-icon",{attrs:{color:"error"}},[e._v("mdi-image-remove")])],1),a("v-btn",{attrs:{disabled:n.id<0||e.loading,loading:e.loading,icon:""},on:{click:function(t){return e.deleteUser(n)}}},[a("v-icon",{attrs:{color:"error"}},[e._v("mdi-delete")])],1)]}}])})],1)]:e.users.isError()?[a("error-placeholder",{attrs:{"error-id":"reports"}})]:e._e()],2)},c=[],r=(a("d3b7"),a("d4ec")),o=a("bee2"),i=a("262e"),s=a("2caf"),l=a("9ab4"),d=a("60a3"),u=a("4b8c"),b=a("e43f"),v=a("1cec"),f=a("a336"),p=a("9207"),h=a("8cd5"),m=a("1a32"),y=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.tableSearch="",e.loading=!1,e.users=b["a"].handle(u["a"].getAll(),{id:"users",style:"SECTION",displayFullpage:!0}),e.headers=[{text:"Username",value:"username"},{text:"Id",value:"id"},{text:"",value:"avatar",sortable:!1},{text:"",value:"action",sortable:!1,align:"end"}],e}return Object(o["a"])(n,[{key:"getImageURL",value:function(e){return null!=e.avatar&&e.avatar.id>0?f["a"].getById(e.avatar.id):""}},{key:"deleteUser",value:function(e){var t=this;this.$store.dispatch("modal/open",{component:p["a"],componentPayload:{message:"Are you sure you want to delete ".concat(e.username,"'s account?"),action:function(a){a.$set(a,"loading",!0),u["a"].delete(e.id).then((function(){e.id=-1,t.$store.dispatch("modal/close"),m["a"].delete(t.users.requireData(),e),t.$store.dispatch("snackbar/open",{message:"User has been deleted",color:"success"})})).catch((function(e){h["a"].handle(e,{style:"SNACKBAR",id:"locationDelete"})})).finally((function(){a.$set(a,"loading",!1)}))}}})}},{key:"removeImage",value:function(e){var t=this;this.$store.dispatch("modal/open",{component:p["a"],componentPayload:{message:"Are you sure you want to remove ".concat(e.username,"'s profile picture?"),action:function(a){a.$set(a,"loading",!0),u["a"].update(e.id,{avatarId:-1}).then((function(){e.avatar.id=-1,t.$store.dispatch("modal/close"),t.$store.dispatch("snackbar/open",{message:"User's profile picture has been removed",color:"success"})})).catch((function(e){h["a"].handle(e,{style:"SNACKBAR",id:"locationDelete"})})).finally((function(){a.$set(a,"loading",!1)}))}}})}},{key:"openImage",value:function(e){this.$store.dispatch("modal/open",{component:function(){return a.e("chunk-c952e120").then(a.bind(null,"8375"))},componentPayload:{user:e}})}}]),n}(d["e"]);y=Object(l["a"])([Object(d["a"])({components:{ErrorPlaceholder:v["a"]}})],y);var g=y,O=g,j=a("2877"),k=a("6544"),C=a.n(k),S=a("8336"),x=a("b0af"),I=a("99d9"),V=a("a523"),_=a("8fea"),A=a("132d"),E=a("3129"),$=a("8654"),U=Object(j["a"])(O,n,c,!1,null,null,null);t["default"]=U.exports;C()(U,{VBtn:S["a"],VCard:x["a"],VCardTitle:I["d"],VContainer:V["a"],VDataTable:_["a"],VIcon:A["a"],VSkeletonLoader:E["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-60f3eee6.a697fef3.js.map