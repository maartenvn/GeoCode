(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5be891c4"],{"0798":function(t,e,a){"use strict";a("caad");var n=a("5530"),o=a("ade3"),i=(a("0c18"),a("10d2")),r=a("afdd"),c=a("9d26"),s=a("f2e7"),l=a("7560"),u=a("2b0e"),d=u["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),b=a("58df"),v=a("d9bd");e["a"]=Object(b["a"])(i["a"],s["a"],d).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(o["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(c["a"],{props:{color:e}},"$cancel")])},__cachedIcon:function(){return this.computedIcon?this.$createElement(c["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(n["a"])(Object(n["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||l["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(v["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,a){},"0e11":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"container--small"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("tour-header",{attrs:{tour:t.tour,statistics:t.statistics,creator:t.creator,"is-owner":t.isOwner}})],1)],1),a("v-divider",{staticClass:"mt-3 mb-3"}),a("tour-information",{attrs:{creator:t.creator,tour:t.tour,"is-owner":t.isOwner}})],1)},o=[],i=a("d4ec"),r=a("bee2"),c=a("262e"),s=a("2caf"),l=a("9ab4"),u=a("60a3"),d=a("e43f"),b=a("07e8"),v=a("b893"),p=a("ae0c"),f=a("4b8c"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.tour.isLoading()?[a("v-skeleton-loader",{attrs:{dense:"",type:"article"}})]:t.tour.isSuccess()?[t.isOwner&&!t.tour.data.active?[a("v-alert",{attrs:{type:"warning",border:"left",text:""}},[t._v(' Your tour is currently deactivated. Click the "active"-button to activate it again. ')])]:t._e(),a("v-row",{attrs:{justify:"space-between","no-gutters":""}},[a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"tour__title"},[a("inline-edit",{attrs:{value:t.tour.data.name,update:t.updateLocationName,enabled:t.isOwner}})],1),a("div",{staticClass:"tour__info"},[t.statistics.isLoading()?[a("v-skeleton-loader",{staticClass:"mt-2",attrs:{type:"text",width:"300"}})]:t.statistics.isSuccess()?a("v-row",[a("v-col",{staticClass:"d-flex",attrs:{cols:"auto"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-map-marker-distance")]),t._v(" "+t._s(t.tour.data.totalDistance.toFixed(2))+" km ")],1),a("v-divider",{staticClass:"divider--vertical",attrs:{vertical:""}}),a("v-col",{staticClass:"d-flex",attrs:{cols:"auto"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-check")]),t._v(" "+t._s(t.statistics.data.completionCount)+" completions ")],1)],1):t._e()],2)]),a("v-col",{attrs:{cols:"auto","align-self":"center"}},[t.isOwner?[t.tour.data.active?a("v-btn",{attrs:{color:"warning",text:""},on:{click:t.openDeactivateTour}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-eye-off ")]),t._v(" Deactivate ")],1):a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.openActivateTour}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-eye ")]),t._v(" Activate ")],1)]:t._e()],2)],1)]:t._e()],2)},O=[],j=(a("d3b7"),a("69b4")),y=a("9207"),m=a("da70"),_=a("8cd5"),g=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"updateLocationName",value:function(t){return p["a"].update(this.tour.requireData().secretId,{name:t})}},{key:"openDeactivateTour",value:function(){var t=this;this.$store.dispatch("modal/open",{component:y["a"],componentPayload:{message:"Are you sure you want to deactivate this tour?",action:function(e){e.$set(e,"loading",!0),p["a"].update(t.tour.requireData().secretId,{active:!1}).then((function(){m["a"].reload(t.$router),t.$store.dispatch("modal/close")})).catch((function(t){return _["a"].handle(t,{id:"deactivateTour",style:"SNACKBAR"})})).finally((function(){return e.$set(e,"loading",!1)}))}}})}},{key:"openActivateTour",value:function(){var t=this;this.$store.dispatch("modal/open",{component:y["a"],componentPayload:{message:"Are you sure you want to activate this tour?",action:function(e){e.$set(e,"loading",!0),p["a"].update(t.tour.requireData().secretId,{active:!0}).then((function(){m["a"].reload(t.$router),t.$store.dispatch("modal/close")})).catch((function(t){return _["a"].handle(t,{id:"activateTour",style:"SNACKBAR"})})).finally((function(){return e.$set(e,"loading",!1)}))}}})}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])()],g.prototype,"tour",void 0),Object(l["a"])([Object(u["c"])()],g.prototype,"statistics",void 0),Object(l["a"])([Object(u["c"])()],g.prototype,"creator",void 0),Object(l["a"])([Object(u["c"])({default:!1})],g.prototype,"isOwner",void 0),g=Object(l["a"])([Object(u["a"])({components:{InlineEdit:j["a"]}})],g);var C=g,k=C,w=(a("3aff"),a("2877")),E=a("6544"),S=a.n(E),L=a("0798"),I=a("8336"),T=a("62ad"),x=a("ce7e"),B=a("132d"),$=a("0fd9"),A=a("3129"),V=Object(w["a"])(k,h,O,!1,null,null,null),P=V.exports;S()(V,{VAlert:L["a"],VBtn:I["a"],VCol:T["a"],VDivider:x["a"],VIcon:B["a"],VRow:$["a"],VSkeletonLoader:A["a"]});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.tour.isLoading()?[a("v-skeleton-loader",{attrs:{dense:"",type:"article"}})]:t.tour.data?[a("v-row",[a("v-col",{staticClass:"section",attrs:{cols:"12",sm:"8"}},[a("div",{staticClass:"section__title"},[t._v(" Overview ")]),a("inline-edit",{attrs:{update:t.updateTourDescription,enabled:t.isOwner,"is-editor":!0},model:{value:t.tour.data.description,callback:function(e){t.$set(t.tour.data,"description",e)},expression:"tour.data.description"}},[a("div",{staticClass:"section__content text--secondary wrap--word",domProps:{innerHTML:t._s(t.tour.data.description)}})])],1),a("v-divider",{staticClass:"ml-10",attrs:{vertical:""}}),a("v-col",{attrs:{cols:"12",sm:"auto"}},[a("div",{staticClass:"section__title"},[t._v(" Extra information ")]),a("div",{staticClass:"section__content"},[a("span",{staticClass:"li__title"},[t._v(" Locations ")]),a("ul",{staticClass:"li__content",staticStyle:{"list-style-type":"decimal"}},t._l(t.tour.data.locations,(function(e,n){return a("li",{key:n,staticClass:"wrap--all"},[a("router-link",{attrs:{to:"/locations/"+e.secretId}},[t._v(" "+t._s(e.name)+" ")])],1)})),0),a("span",{staticClass:"li__title"},[t._v(" Created by ")]),a("span",{staticClass:"li__content"},[t.creator&&t.creator.isLoading()?[a("v-skeleton-loader",{attrs:{dense:"",type:"text"}})]:t.creator.isSuccess()?[a("a",[t._v(t._s(t.creator.data.username))])]:t._e()],2),a("span",{staticClass:"li__title"},[t._v(" Created on ")]),a("span",{staticClass:"li__content"},[t._v(" "+t._s(t.createdAtFormat)+" ")])])])],1),a("div",{staticClass:"section"},[t._m(0),a("div",{staticClass:"section__content"},[a("tour-map",{attrs:{height:"500px",width:"100%","tour-locations":t.tour.data.locations,center:t.center,zoom:15}})],1)])]:t._e()],2)},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section__title"},[a("span",[t._v("Tour on map")])])}],q=a("a985"),H=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"updateTourDescription",value:function(t){return p["a"].update(this.tour.requireData().secretId,{description:t})}},{key:"createdAtFormat",get:function(){var t=new Date(this.tour.requireData().createdAt);return t.toLocaleDateString()}},{key:"center",get:function(){var t=[0,0];if(this.tour.isSuccess()&&this.tour.requireData().locations&&this.tour.requireData().locations.length>=1){var e=this.tour.requireData().locations[0];t=[e.latitude,e.longitude]}return t}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])()],H.prototype,"tour",void 0),Object(l["a"])([Object(u["c"])()],H.prototype,"creator",void 0),Object(l["a"])([Object(u["c"])({default:!1})],H.prototype,"isOwner",void 0),H=Object(l["a"])([Object(u["a"])({components:{TourMap:q["a"],InlineEdit:j["a"]}})],H);var N=H,R=N,G=Object(w["a"])(R,D,U,!1,null,null,null),M=G.exports;S()(G,{VCol:T["a"],VDivider:x["a"],VRow:$["a"],VSkeletonLoader:A["a"]});var z=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.tour=d["a"].handle(p["a"].get(t.secretId),{id:"location",style:"SECTION",displayFullpage:!0,customMessages:[{code:"400",message:"Tour does not exist.",description:"This tour does not exist or was removed by the original creator or an administrator. Sorry for the inconvenience."}]}),t.statistics=d["a"].handle(p["a"].getStatistics(t.secretId),{id:"tourStatistics",style:"SECTION"}),t}return Object(r["a"])(a,[{key:"isOwner",get:function(){return this.creator&&this.currentUser&&this.creator.isSuccess()&&this.currentUser.isSuccess()&&this.creator.requireData().id===this.currentUser.requireData().id}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])()],z.prototype,"secretId",void 0),Object(l["a"])([Object(v["a"])("tour","creator.id",f["a"].get,{id:"tourCreator",style:"NONE"})],z.prototype,"creator",void 0),Object(l["a"])([Object(b["a"])("session/currentUser")],z.prototype,"currentUser",void 0),z=Object(l["a"])([Object(u["a"])({components:{TourInformation:M,TourHeader:P}})],z);var K=z,F=K,W=a("a523"),J=Object(w["a"])(F,n,o,!1,null,null,null);e["default"]=J.exports;S()(J,{VCol:T["a"],VContainer:W["a"],VDivider:x["a"],VRow:$["a"]})},"1a32":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("c975"),a("a434");var n=a("d4ec"),o=a("bee2"),i=a("2b0e"),r=function(){function t(){Object(n["a"])(this,t)}return Object(o["a"])(t,null,[{key:"delete",value:function(t,e){t.splice(t.indexOf(e),1)}},{key:"update",value:function(t,e,a){var n=t.indexOf(e);t[n]=a,i["default"].set(t,n,a)}}]),t}()},"388c":function(t,e,a){},"3aff":function(t,e,a){"use strict";var n=a("9bae"),o=a.n(n);o.a},4108:function(t,e,a){},"4b8c":function(t,e,a){"use strict";var n=a("d4ec"),o=a("bee2"),i=a("262e"),r=a("2caf"),c=a("9ab4"),s=a("c1c4"),l=a("d70b"),u=a("3dcf"),d=function(t){Object(i["a"])(a,t);var e=Object(r["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getAll",value:function(){return{}}},{key:"get",value:function(t){return{}}},{key:"delete",value:function(t){return{}}},{key:"update",value:function(t,e){return{}}}]),a}(s["EchoService"]);Object(c["a"])([Object(s["GET"])("/users")],d.prototype,"getAll",null),Object(c["a"])([Object(s["GET"])("/users/{id}"),Object(c["b"])(0,Object(s["Path"])("id"))],d.prototype,"get",null),Object(c["a"])([Object(s["DELETE"])("/users/{id}"),Object(c["b"])(0,Object(s["Path"])("id"))],d.prototype,"delete",null),Object(c["a"])([Object(s["PATCH"])("/users/{id}"),Object(c["b"])(0,Object(s["Path"])("id")),Object(c["b"])(1,Object(s["Body"])())],d.prototype,"update",null),e["a"]=(new s["EchoServiceBuilder"]).setBaseUrl(l["a"].BACKEND.URL).addInterceptor(new u["a"]).build(d)},"58d3":function(t,e,a){"use strict";var n=a("bdec"),o=a.n(n);o.a},"5c5a":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("d4ec"),o=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n["a"])(this,t),this.value=void 0!==e.value?e.value:"",this.rules=void 0!==e.rules?e.rules:[],this.error=""}},"653f":function(t,e,a){"use strict";var n=a("4108"),o=a.n(n);o.a},"69b4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editing?[a("v-row",{staticClass:"edit__input",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:t.isEditor?"12":"auto"}},[t.isEditor?a("editor",{staticClass:"mb-4",model:{value:t.field.value,callback:function(e){t.$set(t.field,"value",e)},expression:"field.value"}}):a("v-text-field",{staticClass:"d-inline-block",attrs:{rules:t.field.rules,"error-messages":t.field.error},model:{value:t.field.value,callback:function(e){t.$set(t.field,"value",e)},expression:"field.value"}})],1),a("v-col",{staticClass:"d-flex justify-end align-center",attrs:{cols:t.isEditor?"12":"auto"}},[a("v-btn",{staticClass:"edit__input__button",attrs:{color:"error",text:"",icon:!t.isEditor},on:{click:t.onEditCloseClick}},[t.isEditor?a("span",[t._v("Cancel")]):t._e(),t.isEditor?t._e():a("v-icon",[t._v("mdi-close")])],1),a("v-btn",{staticClass:"edit__input__button",attrs:{color:"success",depressed:"",icon:!t.isEditor,loading:t.loading,disabled:t.loading},on:{click:t.onEditCheckClick}},[t.isEditor?a("span",[t._v("Confirm")]):t._e(),t.isEditor?t._e():a("v-icon",[t._v("mdi-check")])],1)],1)],1)]:[a("div",{staticClass:"edit__field"},[this.$slots.default?[t._t("default")]:[t._v(" "+t._s(t.field.value)+" ")],t.enabled?a("v-btn",{staticClass:"edit__field__button",attrs:{icon:""},on:{click:t.onEditClick}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e()],2)]],2)},o=[],i=a("d4ec"),r=a("bee2"),c=a("262e"),s=a("2caf"),l=a("9ab4"),u=a("60a3"),d=a("5c5a"),b=a("8cd5"),v=a("ceb0"),p=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.valueCopy=t.value,t.editing=!1,t.loading=!1,t.field=new d["a"]({value:t.valueCopy,rules:t.rules}),t}return Object(r["a"])(a,[{key:"onEditClick",value:function(){this.editing=!0}},{key:"onEditCloseClick",value:function(){this.field.value=this.valueCopy,this.editing=!1}},{key:"onEditCheckClick",value:function(){var t=this;this.loading=!0,this.update(this.field.value).then((function(){t.$store.dispatch("snackbar/open",{message:"Successfully updated",color:"success"}),t.editing=!1,t.valueCopy=t.field.value,t.loading=!1,t.$emit("input",t.field.value)})).catch((function(e){t.loading=!1,b["a"].handle(e,{id:"inlineEditUpdate",style:"SNACKBAR"})}))}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])()],p.prototype,"value",void 0),Object(l["a"])([Object(u["c"])()],p.prototype,"update",void 0),Object(l["a"])([Object(u["c"])({default:function(){return[]}})],p.prototype,"rules",void 0),Object(l["a"])([Object(u["c"])({default:!0})],p.prototype,"enabled",void 0),Object(l["a"])([Object(u["c"])({default:!1})],p.prototype,"isEditor",void 0),p=Object(l["a"])([Object(u["a"])({components:{Editor:v["a"]}})],p);var f=p,h=f,O=(a("653f"),a("2877")),j=a("6544"),y=a.n(j),m=a("8336"),_=a("62ad"),g=a("132d"),C=a("0fd9"),k=a("8654"),w=Object(O["a"])(h,n,o,!1,null,null,null);e["a"]=w.exports;y()(w,{VBtn:m["a"],VCol:_["a"],VIcon:g["a"],VRow:C["a"],VTextField:k["a"]})},"6f6a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{attrs:{justify:"center"}},[a("b",{staticClass:"pb-5 pt-2 wrap--all"},[t._v(t._s(t.payload.location.name))]),a("v-btn",{attrs:{to:"/locations/"+t.payload.location.secretId,color:"primary",depressed:"",small:""}},[t._v(" View "),a("v-icon",{attrs:{right:""}},[t._v(" mdi-arrow-right ")])],1)],1)],1)},o=[],i=a("d4ec"),r=a("262e"),c=a("2caf"),s=a("9ab4"),l=a("60a3"),u=function(t){Object(r["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return a}(l["e"]);Object(s["a"])([Object(l["c"])()],u.prototype,"payload",void 0),u=Object(s["a"])([l["a"]],u);var d=u,b=d,v=a("2877"),p=a("6544"),f=a.n(p),h=a("8336"),O=a("132d"),j=a("0fd9"),y=Object(v["a"])(b,n,o,!1,null,null,null);e["a"]=y.exports;f()(y,{VBtn:h["a"],VIcon:O["a"],VRow:j["a"]})},9207:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(" Are you sure? "),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.close}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",{domProps:{innerHTML:t._s(t.payload.message)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:t.loading,loading:t.loading},on:{click:t.confirm}},[t._v(" Confirm ")])],1)],1)},o=[],i=a("d4ec"),r=a("bee2"),c=a("262e"),s=a("2caf"),l=a("9ab4"),u=a("60a3"),d=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.loading=!1,t}return Object(r["a"])(a,[{key:"close",value:function(){this.$store.dispatch("modal/close")}},{key:"confirm",value:function(){this.payload.action(this)}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])()],d.prototype,"payload",void 0),d=Object(l["a"])([u["a"]],d);var b=d,v=b,p=a("2877"),f=a("6544"),h=a.n(f),O=a("8336"),j=a("b0af"),y=a("99d9"),m=a("132d"),_=a("2fa4"),g=Object(p["a"])(v,n,o,!1,null,null,null);e["a"]=g.exports;h()(g,{VBtn:O["a"],VCard:j["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VIcon:m["a"],VSpacer:_["a"]})},"9bae":function(t,e,a){},"9f8f":function(t,e,a){t.exports=a.p+"img/marker-icon-2x-red.07aea9c9.png"},a985:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%",width:"100%"}},[t.showLocations&&t.locations.isLoading()?[a("v-skeleton-loader",{attrs:{dense:"",type:"image"}})]:!t.showLocations||t.locations.isSuccess()?[a("marker-map",{staticClass:"ma-auto",attrs:{height:t.height,width:t.width,zoom:t.zoom,center:t.center,"center-by-ip":t.centerByIp,"center-by-geo":t.centerByGeo,markers:t.markers,lines:t.lines,popupComponent:t.popupComponent,searchEnabled:t.searchEnabled},on:{searchClick:t.onSearchClick}})]:t.showLocations&&t.locations.isError()?[a("error-placeholder",{attrs:{"error-id":"locations"}})]:t._e()],2)},o=[],i=(a("caad"),a("2532"),a("b85c")),r=a("d4ec"),c=a("bee2"),s=a("262e"),l=a("2caf"),u=a("9ab4"),d=a("60a3"),b=a("e43f"),v=a("f789"),p=a("e11e"),f=a("cf57"),h=a("1cec"),O=a("2fd1"),j=function t(){Object(r["a"])(this,t)},y=a("1a32"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("b",{staticClass:"pb-5 pt-2 wrap--all"},[t._v(t._s(t.payload.location.name))]),t.payload.selected?a("v-btn",{attrs:{color:"error",depressed:"",small:""},on:{click:t.onButtonClick}},[t._v(" Remove "),a("v-icon",{attrs:{right:""}},[t._v(" mdi-delete ")])],1):a("v-btn",{attrs:{color:"primary",depressed:"",small:""},on:{click:t.onButtonClick}},[t._v(" Add to tour "),a("v-icon",{attrs:{right:""}},[t._v(" mdi-plus-circle-outline ")])],1)],1)},_=[],g=(a("d81d"),function(t){Object(s["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"onButtonClick",value:function(){this.map&&this.map.closePopup(),this.payload.action(this.payload.location)}}]),a}(d["e"]));Object(u["a"])([Object(d["c"])()],g.prototype,"payload",void 0),Object(u["a"])([Object(d["c"])()],g.prototype,"map",void 0),g=Object(u["a"])([d["a"]],g);var C=g,k=C,w=a("2877"),E=a("6544"),S=a.n(E),L=a("8336"),I=a("132d"),T=a("0fd9"),x=Object(w["a"])(k,m,_,!1,null,null,null),B=x.exports;S()(x,{VBtn:L["a"],VIcon:I["a"],VRow:T["a"]});var $=function(){function t(e){Object(r["a"])(this,t),this.latLngs=e}return Object(c["a"])(t,[{key:"getLatLngTuples",value:function(){return this.latLngs.map((function(t){return[t.lat,t.lng]}))}}]),t}(),A=a("6f6a"),V=function(t){Object(s["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.locations=t.showLocations?b["a"].handle(f["a"].getAll(),{id:"locations",style:"SECTION"}):null,t}return Object(c["a"])(n,[{key:"onSearchClick",value:function(t,e){e.flyTo([t.y,t.x],15)}},{key:"popupComponent",get:function(){return this.showSelect?B:A["a"]}},{key:"markers",get:function(){var t,e=this,n=new Array,o=Object(i["a"])(this._tourLocations);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=new p["LatLng"](r.latitude,r.longitude),s=new v["a"](c),l=new j;l.location=r,l.selected=!0,l.action=function(t){return y["a"].delete(e._tourLocations,t)},s.setPopupPayload(l),this.showSelect&&s.setIcon(new p["Icon"]({iconUrl:a("9f8f"),shadowUrl:a("e2b9"),iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})),n.push(s)}}catch(m){o.e(m)}finally{o.f()}if(this.locations&&this.locations.isSuccess()){var u,d=Object(i["a"])(this.locations.requireData());try{for(d.s();!(u=d.n()).done;){var b=u.value;if(!this._tourLocations.includes(b)){var f=new p["LatLng"](b.latitude,b.longitude),h=new v["a"](f),O=new j;O.location=b,O.selected=!1,O.action=function(t){return e._tourLocations.push(t)},h.setPopupPayload(O),n.push(h)}}}catch(m){d.e(m)}finally{d.f()}}return n}},{key:"lines",get:function(){for(var t=new Array,e=0;e<this._tourLocations.length-1;e++){var a=this._tourLocations[e],n=this._tourLocations[e+1],o=new p["LatLng"](a.latitude,a.longitude),i=new p["LatLng"](n.latitude,n.longitude),r=new $([o,i]);r.color=this.showSelect?"#c0392b":"#2980b9",t.push(r)}return t}}]),n}(d["e"]);Object(u["a"])([Object(d["d"])("tourLocations")],V.prototype,"_tourLocations",void 0),Object(u["a"])([Object(d["c"])()],V.prototype,"height",void 0),Object(u["a"])([Object(d["c"])()],V.prototype,"width",void 0),Object(u["a"])([Object(d["c"])()],V.prototype,"center",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"centerByIp",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"centerByGeo",void 0),Object(u["a"])([Object(d["c"])()],V.prototype,"zoom",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"searchEnabled",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"showLocations",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"showSelect",void 0),V=Object(u["a"])([Object(d["a"])({components:{MarkerMap:O["a"],ErrorPlaceholder:h["a"]}})],V);var P=V,D=P,U=a("3129"),q=Object(w["a"])(D,n,o,!1,null,null,null);e["a"]=q.exports;S()(q,{VSkeletonLoader:U["a"]})},ae0c:function(t,e,a){"use strict";var n=a("d4ec"),o=a("bee2"),i=a("262e"),r=a("2caf"),c=a("9ab4"),s=a("d70b"),l=a("c1c4"),u=a("3dcf"),d=function(t){Object(i["a"])(a,t);var e=Object(r["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"get",value:function(t){return{}}},{key:"getAll",value:function(){return{}}},{key:"getStatistics",value:function(t){return{}}},{key:"create",value:function(t){return{}}},{key:"delete",value:function(t){return{}}},{key:"update",value:function(t,e){return{}}}]),a}(l["EchoService"]);Object(c["a"])([Object(l["GET"])("/tours/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"get",null),Object(c["a"])([Object(l["GET"])("/tours")],d.prototype,"getAll",null),Object(c["a"])([Object(l["GET"])("/tours/{secretId}/statistics"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"getStatistics",null),Object(c["a"])([Object(l["POST"])("/tours"),Object(c["b"])(0,Object(l["Body"])())],d.prototype,"create",null),Object(c["a"])([Object(l["DELETE"])("/tours/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"delete",null),Object(c["a"])([Object(l["PATCH"])("/tours/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId")),Object(c["b"])(1,Object(l["Body"])())],d.prototype,"update",null),e["a"]=(new l["EchoServiceBuilder"]).setBaseUrl(s["a"].BACKEND.URL).addInterceptor(new u["a"]).build(d)},afdd:function(t,e,a){"use strict";var n=a("8336");e["a"]=n["a"]},b893:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));a("13d5"),a("ac1f"),a("1276");var n=a("ade3"),o=a("53ca"),i=a("2fe1"),r=a("e43f");function c(t,e,a,c){return Object(i["a"])((function(i,s){var l;"object"!==Object(o["a"])(i.watch)&&(i.watch=Object.create(null));var u=i.watch;function d(t){if(t.isSuccess()){var n=e.split(".").reduce((function(t,e){return t[e]}),t.requireData());this[s]=r["a"].handle(a(n),c)}}"object"!==Object(o["a"])(u[t])||Array.isArray(u[t])?"undefined"===typeof u[t]&&(u[t]=[]):u[t]=[u[t]],u[t].push({handler:d,deep:!0,immediate:!1}),null===(l=i.mixins)||void 0===l||l.push({data:function(){return Object(n["a"])({},s,null)}})}))}},bdec:function(t,e,a){},ceb0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"editor__title"},[t._v(t._s(t.title))]),a("div",{staticClass:"editor"},[a("div",{ref:"editor"})])])},o=[],i=a("d4ec"),r=a("bee2"),c=a("262e"),s=a("2caf"),l=a("9ab4"),u=a("60a3"),d=a("d5ff"),b=(a("388c"),function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"mounted",value:function(){var t=this,e=this.$refs.editor;Object(d["init"])({element:e,onChange:function(e){return t.$emit("input",e)},actions:[{icon:"↶",title:"Undo",result:function(){return Object(d["exec"])("undo")}},{icon:"↷",title:"redo",result:function(){return Object(d["exec"])("redo")}},"bold","underline","italic","heading1","heading2"],classes:{actionbar:"pell-actionbar editor__actionbar",button:"pell-button editor__button v-btn v-btn--icon v-btn--round",content:"pell-content",selected:"v-btn--active"}}),e.content.innerHTML=this.value}},{key:"content",get:function(){return this.value},set:function(t){this.$emit("input",t)}}]),a}(u["e"]));Object(l["a"])([Object(u["c"])()],b.prototype,"title",void 0),Object(l["a"])([Object(u["c"])()],b.prototype,"value",void 0),Object(l["a"])([Object(u["c"])({default:!1})],b.prototype,"disabled",void 0),b=Object(l["a"])([u["a"]],b);var v=b,p=v,f=(a("58d3"),a("2877")),h=Object(f["a"])(p,n,o,!1,null,null,null);e["a"]=h.exports},cf57:function(t,e,a){"use strict";var n=a("d4ec"),o=a("bee2"),i=a("262e"),r=a("2caf"),c=a("9ab4"),s=a("d70b"),l=a("c1c4"),u=a("3dcf"),d=function(t){Object(i["a"])(a,t);var e=Object(r["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"get",value:function(t){return{}}},{key:"getAll",value:function(){return{}}},{key:"getStatistics",value:function(t){return{}}},{key:"getVisits",value:function(t){return{}}},{key:"getLocationByVisitSecret",value:function(t){return{}}},{key:"visitLocation",value:function(t){return{}}},{key:"create",value:function(t){return{}}},{key:"delete",value:function(t){return{}}},{key:"update",value:function(t,e){return{}}}]),a}(l["EchoService"]);Object(c["a"])([Object(l["GET"])("/locations/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"get",null),Object(c["a"])([Object(l["GET"])("/locations")],d.prototype,"getAll",null),Object(c["a"])([Object(l["GET"])("/locations/{secretId}/statistics"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"getStatistics",null),Object(c["a"])([Object(l["GET"])("/locations/{secretId}/visits"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"getVisits",null),Object(c["a"])([Object(l["GET"])("/locations/visits/{visitSecret}"),Object(c["b"])(0,Object(l["Path"])("visitSecret"))],d.prototype,"getLocationByVisitSecret",null),Object(c["a"])([Object(l["POST"])("/locations/visits/{visitSecret}"),Object(c["b"])(0,Object(l["Path"])("visitSecret"))],d.prototype,"visitLocation",null),Object(c["a"])([Object(l["POST"])("/locations"),Object(c["b"])(0,Object(l["Body"])())],d.prototype,"create",null),Object(c["a"])([Object(l["DELETE"])("/locations/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"delete",null),Object(c["a"])([Object(l["PATCH"])("/locations/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId")),Object(c["b"])(1,Object(l["Body"])())],d.prototype,"update",null),e["a"]=(new l["EchoServiceBuilder"]).setBaseUrl(s["a"].BACKEND.URL).addInterceptor(new u["a"]).build(d)},d5ff:function(t,e,a){!function(t,a){a(e)}(0,(function(t){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},a="defaultParagraphSeparator",n="formatBlock",o=function(t,e,a){return t.addEventListener(e,a)},i=function(t,e){return t.appendChild(e)},r=function(t){return document.createElement(t)},c=function(t){return document.queryCommandState(t)},s=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return document.execCommand(t,!1,e)},l={bold:{icon:"<b>B</b>",title:"Bold",state:function(){return c("bold")},result:function(){return s("bold")}},italic:{icon:"<i>I</i>",title:"Italic",state:function(){return c("italic")},result:function(){return s("italic")}},underline:{icon:"<u>U</u>",title:"Underline",state:function(){return c("underline")},result:function(){return s("underline")}},strikethrough:{icon:"<strike>S</strike>",title:"Strike-through",state:function(){return c("strikeThrough")},result:function(){return s("strikeThrough")}},heading1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:function(){return s(n,"<h1>")}},heading2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:function(){return s(n,"<h2>")}},paragraph:{icon:"&#182;",title:"Paragraph",result:function(){return s(n,"<p>")}},quote:{icon:"&#8220; &#8221;",title:"Quote",result:function(){return s(n,"<blockquote>")}},olist:{icon:"&#35;",title:"Ordered List",result:function(){return s("insertOrderedList")}},ulist:{icon:"&#8226;",title:"Unordered List",result:function(){return s("insertUnorderedList")}},code:{icon:"&lt;/&gt;",title:"Code",result:function(){return s(n,"<pre>")}},line:{icon:"&#8213;",title:"Horizontal Line",result:function(){return s("insertHorizontalRule")}},link:{icon:"&#128279;",title:"Link",result:function(){var t=window.prompt("Enter the link URL");t&&s("createLink",t)}},image:{icon:"&#128247;",title:"Image",result:function(){var t=window.prompt("Enter the image URL");t&&s("insertImage",t)}}},u={actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"},d=function(t){var c=t.actions?t.actions.map((function(t){return"string"==typeof t?l[t]:l[t.name]?e({},l[t.name],t):t})):Object.keys(l).map((function(t){return l[t]})),d=e({},u,t.classes),b=t[a]||"div",v=r("div");v.className=d.actionbar,i(t.element,v);var p=t.element.content=r("div");return p.contentEditable=!0,p.className=d.content,p.oninput=function(e){var a=e.target.firstChild;a&&3===a.nodeType?s(n,"<"+b+">"):"<br>"===p.innerHTML&&(p.innerHTML=""),t.onChange(p.innerHTML)},p.onkeydown=function(t){var e;"Enter"===t.key&&"blockquote"===(e=n,document.queryCommandValue(e))&&setTimeout((function(){return s(n,"<"+b+">")}),0)},i(t.element,p),c.forEach((function(t){var e=r("button");if(e.className=d.button,e.innerHTML=t.icon,e.title=t.title,e.setAttribute("type","button"),e.onclick=function(){return t.result()&&p.focus()},t.state){var a=function(){return e.classList[t.state()?"add":"remove"](d.selected)};o(p,"keyup",a),o(p,"mouseup",a),o(e,"click",a)}i(v,e)})),t.styleWithCSS&&s("styleWithCSS"),s(a,b),t.element},b={exec:s,init:d};t.exec=s,t.init=d,t.default=b,Object.defineProperty(t,"__esModule",{value:!0})}))},e43f:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("d4ec"),o=a("bee2"),i=a("8cd5"),r=function(){function t(){Object(n["a"])(this,t)}return Object(o["a"])(t,null,[{key:"handle",value:function(t,e){return t.getPromise().catch((function(t){i["a"].handle(t,e)})),t}}]),t}()}}]);
//# sourceMappingURL=chunk-5be891c4.55f67240.js.map