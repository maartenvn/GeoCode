(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c3c7f2f"],{"0798":function(t,e,n){"use strict";var a=n("5530"),o=n("ade3"),i=(n("caad"),n("0c18"),n("10d2")),r=n("afdd"),c=n("9d26"),s=n("f2e7"),l=n("7560"),u=n("2b0e"),d=u["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),b=n("58df"),p=n("d9bd");e["a"]=Object(b["a"])(i["a"],s["a"],d).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(o["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(c["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(c["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||l["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,n){},"0e11":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"container--small"},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("tour-header",{attrs:{tour:t.tour,statistics:t.statistics,creator:t.creator,"is-owner":t.isOwner}})],1)],1),n("v-divider",{staticClass:"mt-3 mb-3"}),n("tour-information",{attrs:{creator:t.creator,tour:t.tour,"is-owner":t.isOwner}})],1)},o=[],i=n("d4ec"),r=n("bee2"),c=n("262e"),s=n("2caf"),l=n("9ab4"),u=n("60a3"),d=n("e43f"),b=n("07e8"),p=n("b893"),v=n("ae0c"),f=n("4b8c"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.tour.isLoading()?[n("v-skeleton-loader",{attrs:{dense:"",type:"article"}})]:t.tour.isSuccess()?[t.isOwner&&!t.tour.data.active?[n("v-alert",{attrs:{type:"warning",border:"left",text:""}},[t._v(' Your tour is currently deactivated. Click the "active"-button to activate it again. ')])]:t._e(),n("v-row",{attrs:{justify:"space-between","no-gutters":""}},[n("v-col",{attrs:{cols:"auto"}},[n("div",{staticClass:"tour__title"},[n("inline-edit",{attrs:{value:t.tour.data.name,update:t.updateLocationName,enabled:t.isOwner}})],1),n("div",{staticClass:"tour__info"},[t.statistics.isLoading()?[n("v-skeleton-loader",{staticClass:"mt-2",attrs:{type:"text",width:"300"}})]:t.statistics.isSuccess()?n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"auto"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-map-marker-distance")]),t._v(" "+t._s(t.tour.data.totalDistance.toFixed(2))+" km ")],1),n("v-divider",{staticClass:"divider--vertical",attrs:{vertical:""}}),n("v-col",{staticClass:"d-flex",attrs:{cols:"auto"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-account-check")]),t._v(" "+t._s(t.statistics.data.completionCount)+" completions ")],1)],1):t._e()],2)]),n("v-col",{attrs:{cols:"auto","align-self":"center"}},[t.isOwner?[t.tour.data.active?n("v-btn",{attrs:{color:"warning",text:""},on:{click:t.openDeactivateTour}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-eye-off ")]),t._v(" Deactivate ")],1):n("v-btn",{attrs:{color:"primary",text:""},on:{click:t.openActivateTour}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-eye ")]),t._v(" Activate ")],1)]:t._e()],2)],1)]:t._e()],2)},O=[],j=(n("d3b7"),n("69b4")),y=n("9207"),m=n("da70"),_=n("8cd5"),g=function(t){Object(c["a"])(n,t);var e=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return Object(r["a"])(n,[{key:"updateLocationName",value:function(t){return v["a"].update(this.tour.requireData().secretId,{name:t})}},{key:"openDeactivateTour",value:function(){var t=this;this.$store.dispatch("modal/open",{component:y["a"],componentPayload:{message:"Are you sure you want to deactivate this tour?",action:function(e){e.$set(e,"loading",!0),v["a"].update(t.tour.requireData().secretId,{active:!1}).then((function(){m["a"].reload(t.$router),t.$store.dispatch("modal/close")})).catch((function(t){return _["a"].handle(t,{id:"deactivateTour",style:"SNACKBAR"})})).finally((function(){return e.$set(e,"loading",!1)}))}}})}},{key:"openActivateTour",value:function(){var t=this;this.$store.dispatch("modal/open",{component:y["a"],componentPayload:{message:"Are you sure you want to activate this tour?",action:function(e){e.$set(e,"loading",!0),v["a"].update(t.tour.requireData().secretId,{active:!0}).then((function(){m["a"].reload(t.$router),t.$store.dispatch("modal/close")})).catch((function(t){return _["a"].handle(t,{id:"activateTour",style:"SNACKBAR"})})).finally((function(){return e.$set(e,"loading",!1)}))}}})}}]),n}(u["e"]);Object(l["a"])([Object(u["c"])()],g.prototype,"tour",void 0),Object(l["a"])([Object(u["c"])()],g.prototype,"statistics",void 0),Object(l["a"])([Object(u["c"])()],g.prototype,"creator",void 0),Object(l["a"])([Object(u["c"])({default:!1})],g.prototype,"isOwner",void 0),g=Object(l["a"])([Object(u["a"])({components:{InlineEdit:j["a"]}})],g);var C=g,k=C,w=(n("3aff"),n("2877")),E=n("6544"),S=n.n(E),L=n("0798"),I=n("8336"),T=n("62ad"),x=n("ce7e"),B=n("132d"),$=n("0fd9"),A=n("3129"),V=Object(w["a"])(k,h,O,!1,null,null,null),P=V.exports;S()(V,{VAlert:L["a"],VBtn:I["a"],VCol:T["a"],VDivider:x["a"],VIcon:B["a"],VRow:$["a"],VSkeletonLoader:A["a"]});var D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.tour.isLoading()?[n("v-skeleton-loader",{attrs:{dense:"",type:"article"}})]:t.tour.data?[n("v-row",[n("v-col",{staticClass:"section",attrs:{cols:"12",sm:"8"}},[n("div",{staticClass:"section__title"},[t._v(" Overview ")]),n("inline-edit",{attrs:{update:t.updateTourDescription,enabled:t.isOwner,"is-editor":!0},model:{value:t.tour.data.description,callback:function(e){t.$set(t.tour.data,"description",e)},expression:"tour.data.description"}},[n("div",{staticClass:"section__content text--secondary wrap--word",domProps:{innerHTML:t._s(t.tour.data.description)}})])],1),n("v-divider",{staticClass:"ml-10",attrs:{vertical:""}}),n("v-col",{attrs:{cols:"12",sm:"auto"}},[n("div",{staticClass:"section__title"},[t._v(" Extra information ")]),n("div",{staticClass:"section__content"},[n("span",{staticClass:"li__title"},[t._v(" Locations ")]),n("ul",{staticClass:"li__content",staticStyle:{"list-style-type":"decimal"}},t._l(t.tour.data.locations,(function(e,a){return n("li",{key:a,staticClass:"wrap--all"},[n("router-link",{attrs:{to:"/locations/"+e.secretId}},[t._v(" "+t._s(e.name)+" ")])],1)})),0),n("span",{staticClass:"li__title"},[t._v(" Created by ")]),n("span",{staticClass:"li__content"},[t.creator&&t.creator.isLoading()?[n("v-skeleton-loader",{attrs:{dense:"",type:"text"}})]:t.creator.isSuccess()?[n("a",[t._v(t._s(t.creator.data.username))])]:t._e()],2),n("span",{staticClass:"li__title"},[t._v(" Created on ")]),n("span",{staticClass:"li__content"},[t._v(" "+t._s(t.createdAtFormat)+" ")])])])],1),n("div",{staticClass:"section"},[t._m(0),n("div",{staticClass:"section__content"},[n("tour-map",{attrs:{height:"500px",width:"100%","tour-locations":t.tour.data.locations,center:t.center,zoom:15}})],1)])]:t._e()],2)},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section__title"},[n("span",[t._v("Tour on map")])])}],q=n("a985"),H=function(t){Object(c["a"])(n,t);var e=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return Object(r["a"])(n,[{key:"createdAtFormat",get:function(){var t=new Date(this.tour.requireData().createdAt);return t.toLocaleDateString()}},{key:"center",get:function(){var t=[0,0];if(this.tour.isSuccess()&&this.tour.requireData().locations&&this.tour.requireData().locations.length>=1){var e=this.tour.requireData().locations[0];t=[e.latitude,e.longitude]}return t}},{key:"updateTourDescription",value:function(t){return v["a"].update(this.tour.requireData().secretId,{description:t})}}]),n}(u["e"]);Object(l["a"])([Object(u["c"])()],H.prototype,"tour",void 0),Object(l["a"])([Object(u["c"])()],H.prototype,"creator",void 0),Object(l["a"])([Object(u["c"])({default:!1})],H.prototype,"isOwner",void 0),H=Object(l["a"])([Object(u["a"])({components:{TourMap:q["a"],InlineEdit:j["a"]}})],H);var N=H,R=N,G=Object(w["a"])(R,D,U,!1,null,null,null),M=G.exports;S()(G,{VCol:T["a"],VDivider:x["a"],VRow:$["a"],VSkeletonLoader:A["a"]});var z=function(t){Object(c["a"])(n,t);var e=Object(s["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.tour=d["a"].handle(v["a"].get(t.secretId),{id:"location",style:"SECTION",displayFullpage:!0,customMessages:[{code:"400",message:"Tour does not exist.",description:"This tour does not exist or was removed by the original creator or an administrator. Sorry for the inconvenience."}]}),t.statistics=d["a"].handle(v["a"].getStatistics(t.secretId),{id:"tourStatistics",style:"SECTION"}),t}return Object(r["a"])(n,[{key:"isOwner",get:function(){return this.creator&&this.currentUser&&this.creator.isSuccess()&&this.currentUser.isSuccess()&&this.creator.requireData().id===this.currentUser.requireData().id}}]),n}(u["e"]);Object(l["a"])([Object(u["c"])()],z.prototype,"secretId",void 0),Object(l["a"])([Object(p["a"])("tour","creator.id",f["a"].get,{id:"tourCreator",style:"NONE"})],z.prototype,"creator",void 0),Object(l["a"])([Object(b["a"])("session/currentUser")],z.prototype,"currentUser",void 0),z=Object(l["a"])([Object(u["a"])({components:{TourInformation:M,TourHeader:P}})],z);var K=z,F=K,W=n("a523"),J=Object(w["a"])(F,a,o,!1,null,null,null);e["default"]=J.exports;S()(J,{VCol:T["a"],VContainer:W["a"],VDivider:x["a"],VRow:$["a"]})},"1a32":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("d4ec"),o=n("bee2"),i=(n("a434"),n("2b0e")),r=function(){function t(){Object(a["a"])(this,t)}return Object(o["a"])(t,null,[{key:"delete",value:function(t,e){t.splice(t.indexOf(e),1)}},{key:"update",value:function(t,e,n){var a=t.indexOf(e);t[a]=n,i["default"].set(t,a,n)}}]),t}()},"388c":function(t,e,n){},"3aff":function(t,e,n){"use strict";n("59ef")},"3b59":function(t,e,n){},"4b8c":function(t,e,n){"use strict";var a=n("d4ec"),o=n("bee2"),i=n("262e"),r=n("2caf"),c=n("9ab4"),s=n("c1c4"),l=n("d70b"),u=n("3dcf"),d=function(t){Object(i["a"])(n,t);var e=Object(r["a"])(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(o["a"])(n,[{key:"getAll",value:function(){return{}}},{key:"get",value:function(t){return{}}},{key:"delete",value:function(t){return{}}},{key:"update",value:function(t,e){return{}}}]),n}(s["EchoService"]);Object(c["a"])([Object(s["GET"])("/users")],d.prototype,"getAll",null),Object(c["a"])([Object(s["GET"])("/users/{id}"),Object(c["b"])(0,Object(s["Path"])("id"))],d.prototype,"get",null),Object(c["a"])([Object(s["DELETE"])("/users/{id}"),Object(c["b"])(0,Object(s["Path"])("id"))],d.prototype,"delete",null),Object(c["a"])([Object(s["PATCH"])("/users/{id}"),Object(c["b"])(0,Object(s["Path"])("id")),Object(c["b"])(1,Object(s["Body"])())],d.prototype,"update",null),e["a"]=(new s["EchoServiceBuilder"]).setBaseUrl(l["a"].BACKEND.URL).addInterceptor(new u["a"]).build(d)},"58d3":function(t,e,n){"use strict";n("f08e")},"59ef":function(t,e,n){},"5c5a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("d4ec"),o=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a["a"])(this,t),this.value=void 0!==e.value?e.value:"",this.rules=void 0!==e.rules?e.rules:[],this.error=""}},"653f":function(t,e,n){"use strict";n("3b59")},"69b4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.editing?[n("v-row",{staticClass:"edit__input",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:t.isEditor?"12":"auto"}},[t.isEditor?n("editor",{staticClass:"mb-4",model:{value:t.field.value,callback:function(e){t.$set(t.field,"value",e)},expression:"field.value"}}):n("v-text-field",{staticClass:"d-inline-block",attrs:{rules:t.field.rules,"error-messages":t.field.error},model:{value:t.field.value,callback:function(e){t.$set(t.field,"value",e)},expression:"field.value"}})],1),n("v-col",{staticClass:"d-flex justify-end align-center",attrs:{cols:t.isEditor?"12":"auto"}},[n("v-btn",{staticClass:"edit__input__button",attrs:{color:"error",text:"",icon:!t.isEditor},on:{click:t.onEditCloseClick}},[t.isEditor?n("span",[t._v("Cancel")]):t._e(),t.isEditor?t._e():n("v-icon",[t._v("mdi-close")])],1),n("v-btn",{staticClass:"edit__input__button",attrs:{color:"success",depressed:"",icon:!t.isEditor,loading:t.loading,disabled:t.loading},on:{click:t.onEditCheckClick}},[t.isEditor?n("span",[t._v("Confirm")]):t._e(),t.isEditor?t._e():n("v-icon",[t._v("mdi-check")])],1)],1)],1)]:[n("div",{staticClass:"edit__field"},[this.$slots.default?[t._t("default")]:[t._v(" "+t._s(t.field.value)+" ")],t.enabled?n("v-btn",{staticClass:"edit__field__button",attrs:{icon:""},on:{click:t.onEditClick}},[n("v-icon",[t._v("mdi-pencil")])],1):t._e()],2)]],2)},o=[],i=n("d4ec"),r=n("bee2"),c=n("262e"),s=n("2caf"),l=n("9ab4"),u=n("60a3"),d=n("5c5a"),b=n("8cd5"),p=n("ceb0"),v=function(t){Object(c["a"])(n,t);var e=Object(s["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.valueCopy=t.value,t.editing=!1,t.loading=!1,t.field=new d["a"]({value:t.valueCopy,rules:t.rules}),t}return Object(r["a"])(n,[{key:"onEditClick",value:function(){this.editing=!0}},{key:"onEditCloseClick",value:function(){this.field.value=this.valueCopy,this.editing=!1}},{key:"onEditCheckClick",value:function(){var t=this;this.loading=!0,this.update(this.field.value).then((function(){t.$store.dispatch("snackbar/open",{message:"Successfully updated",color:"success"}),t.editing=!1,t.valueCopy=t.field.value,t.loading=!1,t.$emit("input",t.field.value)})).catch((function(e){t.loading=!1,b["a"].handle(e,{id:"inlineEditUpdate",style:"SNACKBAR"})}))}}]),n}(u["e"]);Object(l["a"])([Object(u["c"])()],v.prototype,"value",void 0),Object(l["a"])([Object(u["c"])()],v.prototype,"update",void 0),Object(l["a"])([Object(u["c"])({default:function(){return[]}})],v.prototype,"rules",void 0),Object(l["a"])([Object(u["c"])({default:!0})],v.prototype,"enabled",void 0),Object(l["a"])([Object(u["c"])({default:!1})],v.prototype,"isEditor",void 0),v=Object(l["a"])([Object(u["a"])({components:{Editor:p["a"]}})],v);var f=v,h=f,O=(n("653f"),n("2877")),j=n("6544"),y=n.n(j),m=n("8336"),_=n("62ad"),g=n("132d"),C=n("0fd9"),k=n("8654"),w=Object(O["a"])(h,a,o,!1,null,null,null);e["a"]=w.exports;y()(w,{VBtn:m["a"],VCol:_["a"],VIcon:g["a"],VRow:C["a"],VTextField:k["a"]})},"6f6a":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{attrs:{justify:"center"}},[n("b",{staticClass:"pb-5 pt-2 wrap--all"},[t._v(t._s(t.payload.location.name))]),n("v-btn",{attrs:{to:"/locations/"+t.payload.location.secretId,color:"primary",depressed:"",small:""}},[t._v(" View "),n("v-icon",{attrs:{right:""}},[t._v(" mdi-arrow-right ")])],1)],1)],1)},o=[],i=n("d4ec"),r=n("262e"),c=n("2caf"),s=n("9ab4"),l=n("60a3"),u=function(t){Object(r["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return n}(l["e"]);Object(s["a"])([Object(l["c"])()],u.prototype,"payload",void 0),u=Object(s["a"])([l["a"]],u);var d=u,b=d,p=n("2877"),v=n("6544"),f=n.n(v),h=n("8336"),O=n("132d"),j=n("0fd9"),y=Object(p["a"])(b,a,o,!1,null,null,null);e["a"]=y.exports;f()(y,{VBtn:h["a"],VIcon:O["a"],VRow:j["a"]})},9207:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v(" Are you sure? "),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:t.close}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("v-card-text",{domProps:{innerHTML:t._s(t.payload.message)}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error",text:""},on:{click:t.close}},[t._v(" Cancel ")]),n("v-btn",{attrs:{color:"primary",depressed:"",disabled:t.loading,loading:t.loading},on:{click:t.confirm}},[t._v(" Confirm ")])],1)],1)},o=[],i=n("d4ec"),r=n("bee2"),c=n("262e"),s=n("2caf"),l=n("9ab4"),u=n("60a3"),d=function(t){Object(c["a"])(n,t);var e=Object(s["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.loading=!1,t}return Object(r["a"])(n,[{key:"close",value:function(){this.$store.dispatch("modal/close")}},{key:"confirm",value:function(){this.payload.action(this)}}]),n}(u["e"]);Object(l["a"])([Object(u["c"])()],d.prototype,"payload",void 0),d=Object(l["a"])([u["a"]],d);var b=d,p=b,v=n("2877"),f=n("6544"),h=n.n(f),O=n("8336"),j=n("b0af"),y=n("99d9"),m=n("132d"),_=n("2fa4"),g=Object(v["a"])(p,a,o,!1,null,null,null);e["a"]=g.exports;h()(g,{VBtn:O["a"],VCard:j["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VIcon:m["a"],VSpacer:_["a"]})},"9f8f":function(t,e,n){t.exports=n.p+"img/marker-icon-2x-red.07aea9c9.png"},a985:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%",width:"100%"}},[t.showLocations&&t.locations.isLoading()?[n("v-skeleton-loader",{attrs:{dense:"",type:"image"}})]:!t.showLocations||t.locations.isSuccess()?[n("marker-map",{staticClass:"ma-auto",attrs:{height:t.height,width:t.width,zoom:t.zoom,center:t.center,"center-by-ip":t.centerByIp,"center-by-geo":t.centerByGeo,markers:t.markers,lines:t.lines,popupComponent:t.popupComponent,searchEnabled:t.searchEnabled},on:{searchClick:t.onSearchClick}})]:t.showLocations&&t.locations.isError()?[n("error-placeholder",{attrs:{"error-id":"locations"}})]:t._e()],2)},o=[],i=n("b85c"),r=n("d4ec"),c=n("bee2"),s=n("262e"),l=n("2caf"),u=(n("caad"),n("2532"),n("9ab4")),d=n("60a3"),b=n("e43f"),p=n("f789"),v=n("e11e"),f=n("cf57"),h=n("1cec"),O=n("2fd1"),j=function t(){Object(r["a"])(this,t)},y=n("1a32"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center"}},[n("b",{staticClass:"pb-5 pt-2 wrap--all"},[t._v(t._s(t.payload.location.name))]),t.payload.selected?n("v-btn",{attrs:{color:"error",depressed:"",small:""},on:{click:t.onButtonClick}},[t._v(" Remove "),n("v-icon",{attrs:{right:""}},[t._v(" mdi-delete ")])],1):n("v-btn",{attrs:{color:"primary",depressed:"",small:""},on:{click:t.onButtonClick}},[t._v(" Add to tour "),n("v-icon",{attrs:{right:""}},[t._v(" mdi-plus-circle-outline ")])],1)],1)},_=[],g=(n("d81d"),function(t){Object(s["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(c["a"])(n,[{key:"onButtonClick",value:function(){this.map&&this.map.closePopup(),this.payload.action(this.payload.location)}}]),n}(d["e"]));Object(u["a"])([Object(d["c"])()],g.prototype,"payload",void 0),Object(u["a"])([Object(d["c"])()],g.prototype,"map",void 0),g=Object(u["a"])([d["a"]],g);var C=g,k=C,w=n("2877"),E=n("6544"),S=n.n(E),L=n("8336"),I=n("132d"),T=n("0fd9"),x=Object(w["a"])(k,m,_,!1,null,null,null),B=x.exports;S()(x,{VBtn:L["a"],VIcon:I["a"],VRow:T["a"]});var $=function(){function t(e){Object(r["a"])(this,t),this.latLngs=e}return Object(c["a"])(t,[{key:"getLatLngTuples",value:function(){return this.latLngs.map((function(t){return[t.lat,t.lng]}))}}]),t}(),A=n("6f6a"),V=function(t){Object(s["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.locations=t.showLocations?b["a"].handle(f["a"].getAll(),{id:"locations",style:"SECTION"}):null,t}return Object(c["a"])(a,[{key:"popupComponent",get:function(){return this.showSelect?B:A["a"]}},{key:"onSearchClick",value:function(t,e){e.flyTo([t.y,t.x],15)}},{key:"markers",get:function(){var t,e=this,a=new Array,o=Object(i["a"])(this._tourLocations);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=new v["LatLng"](r.latitude,r.longitude),s=new p["a"](c),l=new j;l.location=r,l.selected=!0,l.action=function(t){return y["a"].delete(e._tourLocations,t)},s.setPopupPayload(l),this.showSelect&&s.setIcon(new v["Icon"]({iconUrl:n("9f8f"),shadowUrl:n("e2b9"),iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})),a.push(s)}}catch(m){o.e(m)}finally{o.f()}if(this.locations&&this.locations.isSuccess()){var u,d=Object(i["a"])(this.locations.requireData());try{for(d.s();!(u=d.n()).done;){var b=u.value;if(!this._tourLocations.includes(b)){var f=new v["LatLng"](b.latitude,b.longitude),h=new p["a"](f),O=new j;O.location=b,O.selected=!1,O.action=function(t){return e._tourLocations.push(t)},h.setPopupPayload(O),a.push(h)}}}catch(m){d.e(m)}finally{d.f()}}return a}},{key:"lines",get:function(){for(var t=new Array,e=0;e<this._tourLocations.length-1;e++){var n=this._tourLocations[e],a=this._tourLocations[e+1],o=new v["LatLng"](n.latitude,n.longitude),i=new v["LatLng"](a.latitude,a.longitude),r=new $([o,i]);r.color=this.showSelect?"#c0392b":"#2980b9",t.push(r)}return t}}]),a}(d["e"]);Object(u["a"])([Object(d["d"])("tourLocations")],V.prototype,"_tourLocations",void 0),Object(u["a"])([Object(d["c"])()],V.prototype,"height",void 0),Object(u["a"])([Object(d["c"])()],V.prototype,"width",void 0),Object(u["a"])([Object(d["c"])()],V.prototype,"center",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"centerByIp",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"centerByGeo",void 0),Object(u["a"])([Object(d["c"])()],V.prototype,"zoom",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"searchEnabled",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"showLocations",void 0),Object(u["a"])([Object(d["c"])({default:!1})],V.prototype,"showSelect",void 0),V=Object(u["a"])([Object(d["a"])({components:{MarkerMap:O["a"],ErrorPlaceholder:h["a"]}})],V);var P=V,D=P,U=n("3129"),q=Object(w["a"])(D,a,o,!1,null,null,null);e["a"]=q.exports;S()(q,{VSkeletonLoader:U["a"]})},ae0c:function(t,e,n){"use strict";var a=n("d4ec"),o=n("bee2"),i=n("262e"),r=n("2caf"),c=n("9ab4"),s=n("d70b"),l=n("c1c4"),u=n("3dcf"),d=function(t){Object(i["a"])(n,t);var e=Object(r["a"])(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(o["a"])(n,[{key:"get",value:function(t){return{}}},{key:"getAll",value:function(){return{}}},{key:"getStatistics",value:function(t){return{}}},{key:"create",value:function(t){return{}}},{key:"delete",value:function(t){return{}}},{key:"update",value:function(t,e){return{}}}]),n}(l["EchoService"]);Object(c["a"])([Object(l["GET"])("/tours/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"get",null),Object(c["a"])([Object(l["GET"])("/tours")],d.prototype,"getAll",null),Object(c["a"])([Object(l["GET"])("/tours/{secretId}/statistics"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"getStatistics",null),Object(c["a"])([Object(l["POST"])("/tours"),Object(c["b"])(0,Object(l["Body"])())],d.prototype,"create",null),Object(c["a"])([Object(l["DELETE"])("/tours/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"delete",null),Object(c["a"])([Object(l["PATCH"])("/tours/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId")),Object(c["b"])(1,Object(l["Body"])())],d.prototype,"update",null),e["a"]=(new l["EchoServiceBuilder"]).setBaseUrl(s["a"].BACKEND.URL).addInterceptor(new u["a"]).build(d)},afdd:function(t,e,n){"use strict";var a=n("8336");e["a"]=a["a"]},b893:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("ade3"),o=n("53ca"),i=(n("13d5"),n("ac1f"),n("1276"),n("2fe1")),r=n("e43f");function c(t,e,n,c){return Object(i["a"])((function(i,s){var l;"object"!==Object(o["a"])(i.watch)&&(i.watch=Object.create(null));var u=i.watch;function d(t){if(t.isSuccess()){var a=e.split(".").reduce((function(t,e){return t[e]}),t.requireData());this[s]=r["a"].handle(n(a),c)}}"object"!==Object(o["a"])(u[t])||Array.isArray(u[t])?"undefined"===typeof u[t]&&(u[t]=[]):u[t]=[u[t]],u[t].push({handler:d,deep:!0,immediate:!1}),null===(l=i.mixins)||void 0===l||l.push({data:function(){return Object(a["a"])({},s,null)}})}))}},ceb0:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"editor__title"},[t._v(t._s(t.title))]),n("div",{staticClass:"editor"},[n("div",{ref:"editor"})])])},o=[],i=n("d4ec"),r=n("bee2"),c=n("262e"),s=n("2caf"),l=n("9ab4"),u=n("60a3"),d=n("d5ff"),b=(n("388c"),function(t){Object(c["a"])(n,t);var e=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return Object(r["a"])(n,[{key:"mounted",value:function(){var t=this,e=this.$refs.editor;Object(d["init"])({element:e,onChange:function(e){return t.$emit("input",e)},actions:[{icon:"↶",title:"Undo",result:function(){return Object(d["exec"])("undo")}},{icon:"↷",title:"redo",result:function(){return Object(d["exec"])("redo")}},"bold","underline","italic","heading1","heading2"],classes:{actionbar:"pell-actionbar editor__actionbar",button:"pell-button editor__button v-btn v-btn--icon v-btn--round",content:"pell-content",selected:"v-btn--active"}}),e.content.innerHTML=this.value}},{key:"content",get:function(){return this.value},set:function(t){this.$emit("input",t)}}]),n}(u["e"]));Object(l["a"])([Object(u["c"])()],b.prototype,"title",void 0),Object(l["a"])([Object(u["c"])()],b.prototype,"value",void 0),Object(l["a"])([Object(u["c"])({default:!1})],b.prototype,"disabled",void 0),b=Object(l["a"])([u["a"]],b);var p=b,v=p,f=(n("58d3"),n("2877")),h=Object(f["a"])(v,a,o,!1,null,null,null);e["a"]=h.exports},cf57:function(t,e,n){"use strict";var a=n("d4ec"),o=n("bee2"),i=n("262e"),r=n("2caf"),c=n("9ab4"),s=n("d70b"),l=n("c1c4"),u=n("3dcf"),d=function(t){Object(i["a"])(n,t);var e=Object(r["a"])(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(o["a"])(n,[{key:"get",value:function(t){return{}}},{key:"getAll",value:function(){return{}}},{key:"getStatistics",value:function(t){return{}}},{key:"getVisits",value:function(t){return{}}},{key:"getLocationByVisitSecret",value:function(t){return{}}},{key:"visitLocation",value:function(t){return{}}},{key:"create",value:function(t){return{}}},{key:"delete",value:function(t){return{}}},{key:"update",value:function(t,e){return{}}}]),n}(l["EchoService"]);Object(c["a"])([Object(l["GET"])("/locations/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"get",null),Object(c["a"])([Object(l["GET"])("/locations")],d.prototype,"getAll",null),Object(c["a"])([Object(l["GET"])("/locations/{secretId}/statistics"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"getStatistics",null),Object(c["a"])([Object(l["GET"])("/locations/{secretId}/visits"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"getVisits",null),Object(c["a"])([Object(l["GET"])("/locations/visits/{visitSecret}"),Object(c["b"])(0,Object(l["Path"])("visitSecret"))],d.prototype,"getLocationByVisitSecret",null),Object(c["a"])([Object(l["POST"])("/locations/visits/{visitSecret}"),Object(c["b"])(0,Object(l["Path"])("visitSecret"))],d.prototype,"visitLocation",null),Object(c["a"])([Object(l["POST"])("/locations"),Object(c["b"])(0,Object(l["Body"])())],d.prototype,"create",null),Object(c["a"])([Object(l["DELETE"])("/locations/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"delete",null),Object(c["a"])([Object(l["PATCH"])("/locations/{secretId}"),Object(c["b"])(0,Object(l["Path"])("secretId")),Object(c["b"])(1,Object(l["Body"])())],d.prototype,"update",null),e["a"]=(new l["EchoServiceBuilder"]).setBaseUrl(s["a"].BACKEND.URL).addInterceptor(new u["a"]).build(d)},d5ff:function(t,e,n){!function(t,n){n(e)}(0,(function(t){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},n="defaultParagraphSeparator",a="formatBlock",o=function(t,e,n){return t.addEventListener(e,n)},i=function(t,e){return t.appendChild(e)},r=function(t){return document.createElement(t)},c=function(t){return document.queryCommandState(t)},s=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return document.execCommand(t,!1,e)},l={bold:{icon:"<b>B</b>",title:"Bold",state:function(){return c("bold")},result:function(){return s("bold")}},italic:{icon:"<i>I</i>",title:"Italic",state:function(){return c("italic")},result:function(){return s("italic")}},underline:{icon:"<u>U</u>",title:"Underline",state:function(){return c("underline")},result:function(){return s("underline")}},strikethrough:{icon:"<strike>S</strike>",title:"Strike-through",state:function(){return c("strikeThrough")},result:function(){return s("strikeThrough")}},heading1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:function(){return s(a,"<h1>")}},heading2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:function(){return s(a,"<h2>")}},paragraph:{icon:"&#182;",title:"Paragraph",result:function(){return s(a,"<p>")}},quote:{icon:"&#8220; &#8221;",title:"Quote",result:function(){return s(a,"<blockquote>")}},olist:{icon:"&#35;",title:"Ordered List",result:function(){return s("insertOrderedList")}},ulist:{icon:"&#8226;",title:"Unordered List",result:function(){return s("insertUnorderedList")}},code:{icon:"&lt;/&gt;",title:"Code",result:function(){return s(a,"<pre>")}},line:{icon:"&#8213;",title:"Horizontal Line",result:function(){return s("insertHorizontalRule")}},link:{icon:"&#128279;",title:"Link",result:function(){var t=window.prompt("Enter the link URL");t&&s("createLink",t)}},image:{icon:"&#128247;",title:"Image",result:function(){var t=window.prompt("Enter the image URL");t&&s("insertImage",t)}}},u={actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"},d=function(t){var c=t.actions?t.actions.map((function(t){return"string"==typeof t?l[t]:l[t.name]?e({},l[t.name],t):t})):Object.keys(l).map((function(t){return l[t]})),d=e({},u,t.classes),b=t[n]||"div",p=r("div");p.className=d.actionbar,i(t.element,p);var v=t.element.content=r("div");return v.contentEditable=!0,v.className=d.content,v.oninput=function(e){var n=e.target.firstChild;n&&3===n.nodeType?s(a,"<"+b+">"):"<br>"===v.innerHTML&&(v.innerHTML=""),t.onChange(v.innerHTML)},v.onkeydown=function(t){var e;"Enter"===t.key&&"blockquote"===(e=a,document.queryCommandValue(e))&&setTimeout((function(){return s(a,"<"+b+">")}),0)},i(t.element,v),c.forEach((function(t){var e=r("button");if(e.className=d.button,e.innerHTML=t.icon,e.title=t.title,e.setAttribute("type","button"),e.onclick=function(){return t.result()&&v.focus()},t.state){var n=function(){return e.classList[t.state()?"add":"remove"](d.selected)};o(v,"keyup",n),o(v,"mouseup",n),o(e,"click",n)}i(p,e)})),t.styleWithCSS&&s("styleWithCSS"),s(n,b),t.element},b={exec:s,init:d};t.exec=s,t.init=d,t.default=b,Object.defineProperty(t,"__esModule",{value:!0})}))},e43f:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("d4ec"),o=n("bee2"),i=n("8cd5"),r=function(){function t(){Object(a["a"])(this,t)}return Object(o["a"])(t,null,[{key:"handle",value:function(t,e){return t.getPromise().catch((function(t){i["a"].handle(t,e)})),t}}]),t}()},f08e:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6c3c7f2f.662c926a.js.map