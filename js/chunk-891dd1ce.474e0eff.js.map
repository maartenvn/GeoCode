{"version":3,"sources":["webpack:///./src/util/ArrayUtil.ts","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./src/components/modal/ConfirmModal.vue?fee9","webpack:///./src/components/modal/ConfirmModal.vue","webpack:///./src/components/modal/ConfirmModal.vue?2087","webpack:///./src/components/modal/ConfirmModal.vue?31aa","webpack:///./src/api/services/TourService.ts","webpack:///./src/views/Tours.vue?a051","webpack:///./src/views/Tours.vue","webpack:///./src/views/Tours.vue?2141","webpack:///./src/views/Tours.vue?30da","webpack:///./src/components/view/tours/ToursTable.vue?c847","webpack:///./src/components/view/tours/ToursTable.vue","webpack:///./src/components/view/tours/ToursTable.vue?7d66","webpack:///./src/components/view/tours/ToursTable.vue?9e6a"],"names":["ArrayUtil","array","value","splice","indexOf","oldValue","newValue","index","set","collection","collectionStrong","module","exports","init","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","_v","attrs","on","close","domProps","_s","payload","message","loading","confirm","staticRenderFns","$store","dispatch","action","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VIcon","VSpacer","TourService","secretId","body","setBaseUrl","BACKEND","URL","addInterceptor","build","staticClass","openCreate","_e","tours","RequestHandler","handle","getAll","id","style","fullscreen","components","ToursTable","VCol","VContainer","VRow","isLoading","isSuccess","tableHeaders","tableSearch","toursData","scopedSlots","_u","key","fn","model","callback","$$v","expression","proxy","ref","item","name","active","getDistanceColor","totalDistance","toFixed","$event","openConfirmDelete","activeEnabled","isError","text","sortable","align","distance","tour","ConfirmModal","componentPayload","delete","then","requireData","color","catch","error","ErrorHandler","map","country","Set","locations","join","default","ErrorPlaceholder","VChip","VDataTable","VSkeletonLoader","VTextField"],"mappings":"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","file":"js/chunk-891dd1ce.474e0eff.js","sourcesContent":["import Vue from \"vue\";\n\nexport class ArrayUtil {\n    /**\n     * Delete a value from an array by value.\n     * @param array\n     * @param value\n     */\n    static delete<T>(array: Array<T>, value: T) {\n        array.splice(array.indexOf(value), 1);\n    }\n\n    /**\n     * Update a value inside an array by its old value.\n     * @param array\n     * @param oldValue\n     * @param newValue\n     */\n    static update<T>(array: Array<T>, oldValue: T, newValue: T) {\n        const index = array.indexOf(oldValue);\n        array[index] = newValue;\n\n        // Reactive update of array\n        Vue.set(array, index, newValue);\n    }\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\" Are you sure? \"),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',{domProps:{\"innerHTML\":_vm._s(_vm.payload.message)}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":_vm.confirm}},[_vm._v(\" Confirm \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class ConfirmModal extends Vue {\n    /**\n     * Payload, passed when opening the modal.\n     */\n    @Prop()\n    payload: {\n        message: string;\n        action: (instance: Vue) => void;\n    };\n\n    /**\n     * If the confirm model is loading.\n     */\n    loading = false;\n\n    /**\n     * Close the modal.\n     */\n    close() {\n        this.$store.dispatch(\"modal/close\");\n    }\n\n    /**\n     * Execute the confirm action.\n     */\n    confirm() {\n        this.payload.action(this);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfirmModal.vue?vue&type=template&id=5892174f&\"\nimport script from \"./ConfirmModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfirmModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VIcon,VSpacer})\n","import config from \"@/config\";\nimport {\n    Body,\n    DELETE,\n    EchoPromise,\n    EchoService,\n    EchoServiceBuilder,\n    GET,\n    PATCH,\n    Path,\n    POST,\n} from \"echofetch\";\nimport { AuthInterceptor } from \"@/api/interceptors/AuthInterceptor\";\nimport Tour from \"@/api/models/Tour\";\nimport { TourIdWrapper, TourUpdateWrapper } from \"@/api/wrappers/TourWrapper\";\nimport TourStatistics from \"@/api/models/TourStatistics\";\n\nclass TourService extends EchoService {\n    /**\n     * Get a tour by its secret id\n     * @param secretId Secret id of the tour.\n     */\n    @GET(\"/tours/{secretId}\")\n    get(@Path(\"secretId\") secretId: string): EchoPromise<Tour> {\n        return {} as EchoPromise<Tour>;\n    }\n\n    /**\n     * Get a list with tours.\n     */\n    @GET(\"/tours\")\n    getAll(): EchoPromise<Array<Tour>> {\n        return {} as EchoPromise<Array<Tour>>;\n    }\n\n    /**\n     * Get the statistics for a specific tour.\n     * @param secretId Secret id of the tour.\n     */\n    @GET(\"/tours/{secretId}/statistics\")\n    getStatistics(\n        @Path(\"secretId\") secretId: string\n    ): EchoPromise<TourStatistics> {\n        return {} as EchoPromise<TourStatistics>;\n    }\n\n    /**\n     * Create a new tour.\n     * @param body Tour parameters for the new tour.\n     */\n    @POST(\"/tours\")\n    create(@Body() body: TourIdWrapper): EchoPromise<TourIdWrapper> {\n        return {} as EchoPromise<TourIdWrapper>;\n    }\n\n    /**\n     * Delete a tour\n     * @param secretId Id of the tour\n     */\n    @DELETE(\"/tours/{secretId}\")\n    delete(@Path(\"secretId\") secretId: string): EchoPromise<string> {\n        return {} as EchoPromise<string>;\n    }\n\n    /**\n     * Update a tour\n     * @param secretId Id of the tour\n     * @param body Tour parameters to update the tour\n     */\n    @PATCH(\"/tours/{secretId}\")\n    update(\n        @Path(\"secretId\") secretId: string,\n        @Body() body: TourUpdateWrapper\n    ): EchoPromise<void> {\n        return {} as EchoPromise<void>;\n    }\n}\n\nexport default new EchoServiceBuilder()\n    .setBaseUrl(config.BACKEND.URL)\n    .addInterceptor(new AuthInterceptor())\n    .build(TourService);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"container--small\"},[_c('div',{staticClass:\"section\"},[_c('v-row',{staticClass:\"section__title\",attrs:{\"no-gutters\":\"\",\"justify\":\"space-between\",\"align\":\"center\"}},[_c('v-col',[_vm._v(\"Tours\")]),_c('v-col',{attrs:{\"cols\":\"auto\"}},[(_vm.isAuthenticated)?_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\"},on:{\"click\":_vm.openCreate}},[_vm._v(\" Create new tour \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-plus-circle-outline \")])],1):_vm._e()],1)],1),_c('div',{staticClass:\"section__description\"},[_vm._v(\" GeoCode contains user defined tours. These tours will guide you across multiple GeoCode locations. Use the table below to search for a tour you would like to visit. \")])],1),_c('tours-table',{attrs:{\"tours\":_vm.tours}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { StoreGetter } from \"@/store/decorators/StoreGetterDecorator\";\nimport { RequestHandler } from \"@/api/RequestHandler\";\nimport TourService from \"@/api/services/TourService\";\nimport ToursTable from \"@/components/view/tours/ToursTable.vue\";\n\n@Component({\n    components: { ToursTable },\n})\nexport default class Tours extends Vue {\n    /**\n     * Get a list with available tours\n     */\n    tours = RequestHandler.handle(TourService.getAll(), {\n        id: \"tours\",\n        style: \"SECTION\",\n    });\n\n    /**\n     * If the client is logged in.\n     */\n    @StoreGetter(\"session/isAuthenticated\")\n    isAuthenticated: boolean;\n\n    /**\n     * Open a modal to create a new tour.\n     */\n    openCreate() {\n        this.$store.dispatch(\"modal/open\", {\n            component: () =>\n                import(\"@/components/modal/tour/TourCreateModal.vue\"),\n            fullscreen: true,\n        });\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tours.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tours.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tours.vue?vue&type=template&id=1ef8755e&\"\nimport script from \"./Tours.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tours.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VContainer,VIcon,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tours.isLoading())?[_c('v-skeleton-loader',{attrs:{\"dense\":\"\",\"type\":\"table\"}})]:(_vm.tours.isSuccess())?[_c('v-data-table',{attrs:{\"headers\":_vm.tableHeaders,\"search\":_vm.tableSearch,\"items\":_vm.toursData},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-database-marker\",\"label\":\"Search for a tour name or country\",\"single-line\":\"\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.tableSearch),callback:function ($$v) {_vm.tableSearch=$$v},expression:\"tableSearch\"}})]},proxy:true},{key:\"no-data\",fn:function(){return [_vm._v(\" No tours available \")]},proxy:true},{key:\"no-results\",fn:function(){return [_vm._v(\" No tours found with the given parameters \")]},proxy:true},{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"wrap--all\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]}},{key:\"item.active\",fn:function(ref){\nvar item = ref.item;\nreturn [(_vm.activeEnabled)?[(!item.active)?[_c('v-chip',{attrs:{\"color\":\"warning\",\"text-color\":\"white\",\"small\":\"\"}},[_vm._v(\" Not activated \")])]:[_c('v-chip',{attrs:{\"color\":\"success\",\"text-color\":\"white\",\"small\":\"\"}},[_vm._v(\" Activated \")])]]:_vm._e()]}},{key:\"item.totalDistance\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":_vm.getDistanceColor(item.totalDistance),\"text-color\":\"white\",\"small\":\"\"}},[_vm._v(\" \"+_vm._s(item.totalDistance.toFixed(2))+\" km \")])]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [(_vm.deleteEnabled)?_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":function($event){return _vm.openConfirmDelete(item)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1):_vm._e(),(item.active || !_vm.activeEnabled)?_c('v-btn',{attrs:{\"to\":(\"/tours/\" + (item.secretId)),\"color\":\"primary\",\"text\":\"\"}},[_vm._v(\" View \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right\")])],1):_c('v-btn',{attrs:{\"to\":(\"/tours/\" + (item.secretId)),\"color\":\"warning\",\"text\":\"\"}},[_vm._v(\" Activate \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right\")])],1)]}}])})]:(_vm.tours.isError())?[_c('error-placeholder',{attrs:{\"error-id\":\"tours\"}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { EchoPromise } from \"echofetch\";\nimport { ArrayUtil } from \"@/util/ArrayUtil\";\nimport { ErrorHandler } from \"@/api/error/ErrorHandler\";\nimport Tour from \"@/api/models/Tour\";\nimport ConfirmModal from \"@/components/modal/ConfirmModal.vue\";\nimport TourService from \"@/api/services/TourService\";\nimport ErrorPlaceholder from \"@/components/error/ErrorPlaceholder.vue\";\n\n@Component({\n    components: { ErrorPlaceholder },\n})\nexport default class ToursTable extends Vue {\n    /**\n     * List with tours.\n     */\n    @Prop()\n    tours: EchoPromise<Array<Tour>>;\n\n    /**\n     * Should a delete button be showed.\n     */\n    @Prop({ default: false })\n    deleteEnabled: boolean;\n\n    /**\n     * Should the \"active\"-column be showed.\n     */\n    @Prop({ default: false })\n    activeEnabled: boolean;\n\n    /**\n     * List with headers for the Vuetify data table.\n     */\n    tableHeaders = [\n        {\n            text: \"Name\",\n            value: \"name\",\n        },\n        {\n            text: \"Country\",\n            value: \"country\",\n        },\n        {\n            text: \"Distance\",\n            value: \"totalDistance\",\n        },\n        {\n            text: \"\",\n            value: \"active\",\n        },\n        {\n            text: \"\",\n            value: \"action\",\n            sortable: false,\n            align: \"end\",\n        },\n    ];\n\n    /**\n     * Value of the search field.\n     */\n    tableSearch = \"\";\n\n    /**\n     * Get the list with tours in a modified form to display inside the table.\n     */\n    get toursData(): Array<Tour> {\n        return this.tours.requireData().map((tour) => {\n            // Convert the locations to a list of unique country names.\n            // Using set and casting back to array to remove duplicates.\n            const country = [\n                ...new Set(tour.locations.map((tour) => tour.country)),\n            ].join(\", \");\n\n            return {\n                ...tour,\n                country,\n            };\n        });\n    }\n\n    /**\n     * Get the distance color for a given distance.\n     *  0 km - 5 km: green\n     *  5 km - 10 km: orange\n     *  10 km - ...: red\n     */\n    getDistanceColor(distance: number): string {\n        // 0 km - 5 km: green\n        if (distance >= 0 && distance <= 5) {\n            return \"success\";\n        }\n\n        // 5 km - 10 km: orange\n        if (distance > 5 && distance <= 10) {\n            return \"warning\";\n        }\n\n        // 10 km - ...: red\n        if (distance > 10) {\n            return \"error\";\n        }\n\n        return \"primary\";\n    }\n\n    /**\n     * Open a model to confirm the delete of a tour.\n     * @param tour Tour to delete.\n     */\n    openConfirmDelete(tour: Tour) {\n        this.$store.dispatch(\"modal/open\", {\n            component: ConfirmModal,\n            componentPayload: {\n                message: `Are you sure you want to delete '${tour.name}? This action is permanent and cannot be undone!'`,\n                action: () =>\n                    TourService.delete(tour.secretId)\n                        .then(() => {\n                            // Close the modal.\n                            this.$store.dispatch(\"modal/close\");\n\n                            // Remove the location from the table.\n                            ArrayUtil.delete(this.tours.requireData(), tour);\n\n                            // Send confirmation message.\n                            this.$store.dispatch(\"snackbar/open\", {\n                                message: \"Tour has been deleted\",\n                                color: \"success\",\n                            });\n                        })\n                        .catch((error) => {\n                            ErrorHandler.handle(error, {\n                                style: \"SNACKBAR\",\n                                id: \"tourDelete\",\n                            });\n                        }),\n            },\n        });\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToursTable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToursTable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ToursTable.vue?vue&type=template&id=9dc7e752&\"\nimport script from \"./ToursTable.vue?vue&type=script&lang=ts&\"\nexport * from \"./ToursTable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VChip,VDataTable,VIcon,VSkeletonLoader,VTextField})\n"],"sourceRoot":""}