(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-891dd1ce"],{"1a32":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("c975"),a("a434");var r=a("d4ec"),c=a("bee2"),n=a("2b0e"),o=function(){function e(){Object(r["a"])(this,e)}return Object(c["a"])(e,null,[{key:"delete",value:function(e,t){e.splice(e.indexOf(t),1)}},{key:"update",value:function(e,t,a){var r=e.indexOf(t);e[r]=a,n["default"].set(e,r,a)}}]),e}()},6062:function(e,t,a){"use strict";var r=a("6d61"),c=a("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),c)},9207:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Are you sure? "),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",{domProps:{innerHTML:e._s(e.payload.message)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:e.loading,loading:e.loading},on:{click:e.confirm}},[e._v(" Confirm ")])],1)],1)},c=[],n=a("d4ec"),o=a("bee2"),i=a("262e"),s=a("2caf"),l=a("9ab4"),u=a("60a3"),d=function(e){Object(i["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.loading=!1,e}return Object(o["a"])(a,[{key:"close",value:function(){this.$store.dispatch("modal/close")}},{key:"confirm",value:function(){this.payload.action(this)}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])()],d.prototype,"payload",void 0),d=Object(l["a"])([u["a"]],d);var b=d,v=b,p=a("2877"),f=a("6544"),h=a.n(f),O=a("8336"),j=a("b0af"),y=a("99d9"),m=a("132d"),k=a("2fa4"),_=Object(p["a"])(v,r,c,!1,null,null,null);t["a"]=_.exports;h()(_,{VBtn:O["a"],VCard:j["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VIcon:m["a"],VSpacer:k["a"]})},ae0c:function(e,t,a){"use strict";var r=a("d4ec"),c=a("bee2"),n=a("262e"),o=a("2caf"),i=a("9ab4"),s=a("d70b"),l=a("c1c4"),u=a("3dcf"),d=function(e){Object(n["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(c["a"])(a,[{key:"get",value:function(e){return{}}},{key:"getAll",value:function(){return{}}},{key:"getStatistics",value:function(e){return{}}},{key:"create",value:function(e){return{}}},{key:"delete",value:function(e){return{}}},{key:"update",value:function(e,t){return{}}}]),a}(l["EchoService"]);Object(i["a"])([Object(l["GET"])("/tours/{secretId}"),Object(i["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"get",null),Object(i["a"])([Object(l["GET"])("/tours")],d.prototype,"getAll",null),Object(i["a"])([Object(l["GET"])("/tours/{secretId}/statistics"),Object(i["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"getStatistics",null),Object(i["a"])([Object(l["POST"])("/tours"),Object(i["b"])(0,Object(l["Body"])())],d.prototype,"create",null),Object(i["a"])([Object(l["DELETE"])("/tours/{secretId}"),Object(i["b"])(0,Object(l["Path"])("secretId"))],d.prototype,"delete",null),Object(i["a"])([Object(l["PATCH"])("/tours/{secretId}"),Object(i["b"])(0,Object(l["Path"])("secretId")),Object(i["b"])(1,Object(l["Body"])())],d.prototype,"update",null),t["a"]=(new l["EchoServiceBuilder"]).setBaseUrl(s["a"].BACKEND.URL).addInterceptor(new u["a"]).build(d)},cc44:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"container--small"},[a("div",{staticClass:"section"},[a("v-row",{staticClass:"section__title",attrs:{"no-gutters":"",justify:"space-between",align:"center"}},[a("v-col",[e._v("Tours")]),a("v-col",{attrs:{cols:"auto"}},[e.isAuthenticated?a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:e.openCreate}},[e._v(" Create new tour "),a("v-icon",{attrs:{right:""}},[e._v(" mdi-plus-circle-outline ")])],1):e._e()],1)],1),a("div",{staticClass:"section__description"},[e._v(" GeoCode contains user defined tours. These tours will guide you across multiple GeoCode locations. Use the table below to search for a tour you would like to visit. ")])],1),a("tours-table",{attrs:{tours:e.tours}})],1)},c=[],n=(a("d3b7"),a("d4ec")),o=a("bee2"),i=a("262e"),s=a("2caf"),l=a("9ab4"),u=a("60a3"),d=a("07e8"),b=a("e43f"),v=a("ae0c"),p=a("cfc2"),f=function(e){Object(i["a"])(r,e);var t=Object(s["a"])(r);function r(){var e;return Object(n["a"])(this,r),e=t.apply(this,arguments),e.tours=b["a"].handle(v["a"].getAll(),{id:"tours",style:"SECTION"}),e}return Object(o["a"])(r,[{key:"openCreate",value:function(){this.$store.dispatch("modal/open",{component:function(){return Promise.all([a.e("chunk-5b589e40"),a.e("chunk-8400856e"),a.e("chunk-d5a42054")]).then(a.bind(null,"b0b0"))},fullscreen:!0})}}]),r}(u["e"]);Object(l["a"])([Object(d["a"])("session/isAuthenticated")],f.prototype,"isAuthenticated",void 0),f=Object(l["a"])([Object(u["a"])({components:{ToursTable:p["a"]}})],f);var h=f,O=h,j=a("2877"),y=a("6544"),m=a.n(y),k=a("8336"),_=a("62ad"),g=a("a523"),w=a("132d"),C=a("0fd9"),x=Object(j["a"])(O,r,c,!1,null,null,null);t["default"]=x.exports;m()(x,{VBtn:k["a"],VCol:_["a"],VContainer:g["a"],VIcon:w["a"],VRow:C["a"]})},cfc2:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.tours.isLoading()?[a("v-skeleton-loader",{attrs:{dense:"",type:"table"}})]:e.tours.isSuccess()?[a("v-data-table",{attrs:{headers:e.tableHeaders,search:e.tableSearch,items:e.toursData},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-text-field",{attrs:{"prepend-icon":"mdi-database-marker",label:"Search for a tour name or country","single-line":"",outlined:"",dense:""},model:{value:e.tableSearch,callback:function(t){e.tableSearch=t},expression:"tableSearch"}})]},proxy:!0},{key:"no-data",fn:function(){return[e._v(" No tours available ")]},proxy:!0},{key:"no-results",fn:function(){return[e._v(" No tours found with the given parameters ")]},proxy:!0},{key:"item.name",fn:function(t){var r=t.item;return[a("div",{staticClass:"wrap--all"},[e._v(" "+e._s(r.name)+" ")])]}},{key:"item.active",fn:function(t){var r=t.item;return[e.activeEnabled?[r.active?[a("v-chip",{attrs:{color:"success","text-color":"white",small:""}},[e._v(" Activated ")])]:[a("v-chip",{attrs:{color:"warning","text-color":"white",small:""}},[e._v(" Not activated ")])]]:e._e()]}},{key:"item.totalDistance",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{color:e.getDistanceColor(r.totalDistance),"text-color":"white",small:""}},[e._v(" "+e._s(r.totalDistance.toFixed(2))+" km ")])]}},{key:"item.action",fn:function(t){var r=t.item;return[e.deleteEnabled?a("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.openConfirmDelete(r)}}},[a("v-icon",[e._v("mdi-delete")])],1):e._e(),r.active||!e.activeEnabled?a("v-btn",{attrs:{to:"/tours/"+r.secretId,color:"primary",text:""}},[e._v(" View "),a("v-icon",{attrs:{right:""}},[e._v("mdi-arrow-right")])],1):a("v-btn",{attrs:{to:"/tours/"+r.secretId,color:"warning",text:""}},[e._v(" Activate "),a("v-icon",{attrs:{right:""}},[e._v("mdi-arrow-right")])],1)]}}])})]:e.tours.isError()?[a("error-placeholder",{attrs:{"error-id":"tours"}})]:e._e()],2)},c=[],n=(a("a15b"),a("d81d"),a("b0c0"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("5530")),o=a("2909"),i=a("d4ec"),s=a("bee2"),l=a("262e"),u=a("2caf"),d=a("9ab4"),b=a("60a3"),v=a("1a32"),p=a("8cd5"),f=a("9207"),h=a("ae0c"),O=a("1cec"),j=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.tableHeaders=[{text:"Name",value:"name"},{text:"Country",value:"country"},{text:"Distance",value:"totalDistance"},{text:"",value:"active"},{text:"",value:"action",sortable:!1,align:"end"}],e.tableSearch="",e}return Object(s["a"])(a,[{key:"getDistanceColor",value:function(e){return e>=0&&e<=5?"success":e>5&&e<=10?"warning":e>10?"error":"primary"}},{key:"openConfirmDelete",value:function(e){var t=this;this.$store.dispatch("modal/open",{component:f["a"],componentPayload:{message:"Are you sure you want to delete '".concat(e.name,"? This action is permanent and cannot be undone!'"),action:function(){return h["a"].delete(e.secretId).then((function(){t.$store.dispatch("modal/close"),v["a"].delete(t.tours.requireData(),e),t.$store.dispatch("snackbar/open",{message:"Tour has been deleted",color:"success"})})).catch((function(e){p["a"].handle(e,{style:"SNACKBAR",id:"tourDelete"})}))}}})}},{key:"toursData",get:function(){return this.tours.requireData().map((function(e){var t=Object(o["a"])(new Set(e.locations.map((function(e){return e.country})))).join(", ");return Object(n["a"])(Object(n["a"])({},e),{},{country:t})}))}}]),a}(b["e"]);Object(d["a"])([Object(b["c"])()],j.prototype,"tours",void 0),Object(d["a"])([Object(b["c"])({default:!1})],j.prototype,"deleteEnabled",void 0),Object(d["a"])([Object(b["c"])({default:!1})],j.prototype,"activeEnabled",void 0),j=Object(d["a"])([Object(b["a"])({components:{ErrorPlaceholder:O["a"]}})],j);var y=j,m=y,k=a("2877"),_=a("6544"),g=a.n(_),w=a("8336"),C=a("cc20"),x=a("8fea"),E=a("132d"),S=a("3129"),V=a("8654"),T=Object(k["a"])(m,r,c,!1,null,null,null);t["a"]=T.exports;g()(T,{VBtn:w["a"],VChip:C["a"],VDataTable:x["a"],VIcon:E["a"],VSkeletonLoader:S["a"],VTextField:V["a"]})}}]);
//# sourceMappingURL=chunk-891dd1ce.b73680c1.js.map